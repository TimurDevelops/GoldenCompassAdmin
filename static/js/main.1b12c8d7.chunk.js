(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"a":"https://rocky-dawn-44860.herokuapp.com/"}')},46:function(e,t,n){},47:function(e,t,n){},68:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(16),a=n.n(s),i=(n(46),n(8)),l=n(9),o=n(2),u=n(17),d=n(10),j=function(){var e=Object(c.useState)(function(){var e=sessionStorage.getItem("user"),t=JSON.parse(e);return t||void 0}()),t=Object(o.a)(e,2),n=t[0],r=t[1];return{setUser:function(e){sessionStorage.setItem("user",JSON.stringify(e)),r(e)},user:n,unsetUser:function(){sessionStorage.removeItem("user"),r(void 0)}}},b=(n(47),n(0)),f=function(e){var t=e.alerts;return Object(b.jsx)("div",{className:"alerts-holder",children:t.map((function(e){return Object(b.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))})},p=n(3),O=n(5),m=n(35),h=n.n(m),v=n(19),x=h.a.create({baseURL:"".concat(v.a,"/api"),headers:{"Content-Type":"application/json"}});x.interceptors.response.use((function(e){return e}),(function(e){(console.log(e),401===Number(e.response.status))&&(0,j().unsetUser)();return Promise.reject(e)}));var g=x,N=(n(68),function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var n,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.credentials,e.prev=1,e.next=4,g.post("/auth/admin",n);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0.response.data.errors;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),w=function(e){var t=e.setUser,n=e.setAuth,r=e.setAlert,s=Object(d.g)(),a=Object(c.useState)(),i=Object(o.a)(a,2),l=i[0],u=i[1],j=Object(c.useState)(),f=Object(o.a)(j,2),m=f[0],h=f[1],v=function(){var e=Object(O.a)(Object(p.a)().mark((function e(c){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n({isLoading:!0,isAuthenticated:!1}),e.prev=2,e.next=5,N({credentials:{login:l,password:m}});case 5:a=e.sent,t(a),n({isLoading:!1,isAuthenticated:!0}),s.push("/lessons-view"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),n({isLoading:!1,isAuthenticated:!1}),e.t0.forEach((function(e){r(e.msg,"danger")}));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"login-wrapper",children:Object(b.jsx)("div",{className:"background-holder",children:Object(b.jsxs)("div",{className:"login-form",children:[Object(b.jsxs)("form",{className:"form",onSubmit:function(e){return v(e)},children:[Object(b.jsx)("div",{className:"login-header",children:Object(b.jsxs)("p",{children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 ",Object(b.jsx)("br",{}),Object(b.jsxs)("span",{className:"golden-compass",children:[Object(b.jsx)("span",{className:"g-letter",children:"G"}),"olden Compass"]}),Object(b.jsx)("span",{className:"golden-compass",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"})]})}),Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",id:"login",onChange:function(e){return u(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"login",className:"form-label",children:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{type:"password",className:"form-field",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",id:"password",onChange:function(e){return h(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"password",className:"form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",id:"loginBtn",children:Object(b.jsx)("span",{children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]}),Object(b.jsx)("div",{className:"login-image"})]})})})},y=(n(77),function(e){var t=e.link,n=e.label;return Object(b.jsx)("div",{className:"menu-item underline",children:Object(b.jsx)(u.b,{to:t,children:n})})}),S=n(6),k=(n(78),function(e){var t=e.logout;return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsxs)("div",{className:"menu",children:[Object(b.jsx)(y,{link:"/teachers-view",label:"\u0423\u0447\u0438\u0442\u0435\u043b\u044f"}),Object(b.jsx)(y,{link:"/students-view",label:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438"}),Object(b.jsx)(y,{link:"/categories-view",label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(b.jsx)(y,{link:"/lessons-view",label:"\u0423\u0440\u043e\u043a\u0438"}),Object(b.jsx)(y,{link:"/levels-view",label:"\u0423\u0440\u043e\u0432\u043d\u0438"})]}),Object(b.jsx)("div",{className:"logout",children:Object(b.jsx)("button",{id:"logoutBtn",onClick:t,children:Object(b.jsx)(S.c,{})})})]})}),C=function(e){var t=e.addStudent,n=Object(c.useState)(),r=Object(o.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)(),f=Object(o.a)(j,2),p=f[0],O=f[1];return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"add-student-form add-form",children:Object(b.jsx)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({name:p,login:s,password:u})}(e)},children:Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u0424\u0418\u041e",name:"name",id:"name",onChange:function(e){return O(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"name",className:"form-label",children:"\u0424\u0418\u041e"})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",id:"login",onChange:function(e){return a(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"login",className:"form-label",children:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{type:"password",className:"form-field",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",id:"password",onChange:function(e){return d(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"password",className:"form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",id:"addStudent",children:Object(b.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})})})})},_=function(e){var t=e.student,n=e.deleteStudent,c=e.resetPassword;return Object(b.jsxs)("div",{className:"student-wrapper item-wrapper",children:[Object(b.jsxs)("h4",{className:"teacher-title",children:["\u0424\u0418\u041e: ",t.name,Object(b.jsx)("br",{}),"\u041b\u043e\u0433\u0438\u043d: ",t.login]}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"delete-btn",onClick:function(){return n()},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"reset-btn",onClick:function(){return c()},title:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",children:Object(b.jsx)(S.d,{})})]})]})},L=function(e){var t=e.students,n=e.deleteStudent,c=e.resetPassword;return Object(b.jsx)("div",{className:"students-list-wrapper",children:t.map((function(e){return Object(b.jsx)(_,{student:e,deleteStudent:function(){return n(e._id)},resetPassword:function(){return c(e._id,e.name)}},e._id)}))})},A=function(e){var t=e.logout,n=e.setAlert,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],u=s[1],d=Object(c.useState)([]),j=Object(o.a)(d,2),f=j[0],m=j[1];Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/students/get-students");case 2:t=e.sent,m(t.data.students);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]);var h=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/students",Object(i.a)({},t));case 3:c=e.sent,r=c.data.user,m([].concat(Object(l.a)(f),[r])),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/students",{headers:{},data:{studentId:t}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 9:m(f.filter((function(e){return e._id!==t})));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t,c){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g.post("/students/reset-password",{id:t});case 5:r=e.sent,alert("\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(c,": ").concat(r.data.p)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{logout:t}),Object(b.jsx)("div",{className:"view-content",children:Object(b.jsxs)("div",{className:"view-content-inner",children:[Object(b.jsx)("button",{className:"btn",onClick:function(){return u(!a)},children:a?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430"}),a&&Object(b.jsx)(C,{createLesson:h,addStudent:h}),Object(b.jsx)(L,{students:f,deleteStudent:v,resetPassword:x})]})})]})},T=function(e){var t=e.addTeacher,n=Object(c.useState)(),r=Object(o.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)(),f=Object(o.a)(j,2),p=f[0],O=f[1],m=Object(c.useState)(),h=Object(o.a)(m,2),v=h[0],x=h[1];return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"add-teacher-form add-form",children:Object(b.jsx)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({name:v,login:s,password:p,isAdmin:u})}(e)},children:Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field abacus",children:[Object(b.jsx)("label",{htmlFor:"isAdmin",children:"\u041f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430: "}),Object(b.jsx)("input",{type:"checkbox",placeholder:"\u0410\u0431\u0430\u043a\u0443\u0441",name:"isAdmin",id:"isAdmin",onChange:function(e){return d(e.target.checked)}})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u0424\u0418\u041e",name:"name",id:"name",onChange:function(e){return x(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"name",className:"form-label",children:"\u0424\u0418\u041e"})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",id:"login",onChange:function(e){return a(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"login",className:"form-label",children:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"password",className:"form-field",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",id:"password",onChange:function(e){return O(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"password",className:"form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",id:"addStudent",children:Object(b.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})})})})},E=function(e){var t=e.teacher,n=e.deleteTeacher,c=e.openTeacher,r=e.resetPassword;return Object(b.jsxs)("div",{className:"teacher-wrapper item-wrapper",children:[Object(b.jsxs)("h4",{className:"teacher-title",children:["\u0424\u0418\u041e: ",t.name,Object(b.jsx)("br",{}),"\u041b\u043e\u0433\u0438\u043d: ",t.login,Object(b.jsx)("br",{}),"\u0410\u0434\u043c\u0438\u043d: ",t.isAdmin?"\u0414\u0430":"\u041d\u0435\u0442"]}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"delete-btn",onClick:function(){return n()},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){return c()},children:Object(b.jsx)(S.b,{})}),Object(b.jsx)("div",{className:"reset-btn",onClick:function(){return r()},title:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",children:Object(b.jsx)(S.d,{})})]})]})},F=function(e){var t=e.teachers,n=e.deleteTeacher,c=e.openTeacher,r=e.resetPassword;return Object(b.jsx)("div",{className:"teachers-list-wrapper",children:t.map((function(e){return Object(b.jsx)(E,{teacher:e,deleteTeacher:function(){return n(e._id)},openTeacher:function(){return c(e)},resetPassword:function(){return r(e._id,e.name)}},e._id)}))})},D=function(e){var t=e.student,n=e.deleteStudent;return Object(b.jsxs)("div",{className:"teacher-student-item inline-item",children:[Object(b.jsxs)("div",{className:"label",children:[t.name," (",t.login,")"]}),Object(b.jsx)("div",{className:"delete-btn",onClick:n,children:Object(b.jsx)(S.e,{})})]})},P=(n(79),function(e){var t=e.items,n=e.onChange,r=e.label,s=void 0===r?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e...":r,a=e.valueField,i=e.defaultValue,l=void 0===i?null:i,u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],f=d[1];return Object(c.useEffect)((function(){l&&n(l)}),[]),Object(b.jsx)("div",{className:"selector-wrapper",children:Object(b.jsxs)("div",{className:"items-wrapper",children:[Object(b.jsx)("div",{className:"placeholder",onClick:function(){return t.length&&f(!0)},children:t.length?s:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442..."}),j&&Object(b.jsx)("div",{className:"selector-bg",onClick:function(){return f(!1)}}),j&&Object(b.jsx)("div",{className:"items",children:t.map((function(e){return Object(b.jsx)("div",{className:"s-item-wrapper",onClick:function(){f(!1),n(e[a])},children:e.name},e[a])}))})]})})}),q=function(e){var t=e.students,n=e.setSelectedStudent,c=t.map((function(e){return Object.assign(e,{html:Object(b.jsxs)("div",{className:"student-item",children:["\u0424\u0418\u041e: ",e.name,Object(b.jsx)("br",{}),"\u041b\u043e\u0433\u0438\u043d: ",e.login]})})}));return Object(b.jsx)("div",{children:Object(b.jsx)(P,{items:c,onChange:function(e){n(t.find((function(t){return t._id===e})))},label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430...",valueField:"_id"})})},I=function(e){var t=e.students,n=e.setStudents,r=Object(c.useState)([]),s=Object(o.a)(r,2),a=s[0],i=s[1];Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var n,c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/students/get-students");case 2:n=e.sent,c=t.map((function(e){return e._id})),r=n.data.students.filter((function(e){return!c.includes(e._id)})),i(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[t]);return Object(b.jsxs)("div",{className:"teachers-students-wrapper inline-list",children:[Object(b.jsxs)("div",{className:"list-wrapper",children:[Object(b.jsx)("div",{className:"group-title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b:"}),t.map((function(e){return Object(b.jsx)(D,{student:e,deleteStudent:function(){return c=e._id,void n(t.filter((function(e){return e._id!==c})));var c}},e._id)}))]}),Object(b.jsx)(q,{students:a,setSelectedStudent:function(e){n([].concat(Object(l.a)(t),[e]))}})]})},R=function(e){var t=e.level,n=e.deleteLevel;return Object(b.jsxs)("div",{className:"teacher-level-item inline-item",children:[Object(b.jsx)("div",{className:"label",children:t.name}),Object(b.jsx)("div",{className:"delete-btn",onClick:n,children:Object(b.jsx)(S.e,{})})]})},M=function(e){var t=e.levels,n=e.setSelectedLevel,c=t.map((function(e){return Object.assign(e,{html:Object(b.jsx)("div",{className:"level-item",children:e.name})})}));return Object(b.jsx)("div",{children:Object(b.jsx)(P,{items:c,onChange:function(e){n(t.find((function(t){return t._id===e})))},label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438...",valueField:"_id"})})},U=function(e){var t=e.levels,n=e.setLevels,r=Object(c.useState)([]),s=Object(o.a)(r,2),a=s[0],i=s[1];Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var n,c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/levels/get-levels");case 2:n=e.sent,c=t.map((function(e){return e._id})),r=n.data.levels.filter((function(e){return!c.includes(e._id)})),i(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[t]);return Object(b.jsxs)("div",{className:"teachers-levels-wrapper inline-list",children:[Object(b.jsxs)("div",{className:"list-wrapper",children:[Object(b.jsx)("div",{className:"group-title",children:"\u0423\u0440\u043e\u0432\u043d\u0438:"}),t.map((function(e){return Object(b.jsx)(R,{level:e,deleteLevel:function(){return c=e._id,void n(t.filter((function(e){return e._id!==c})));var c}},e._id)}))]}),Object(b.jsx)(M,{levels:a,setSelectedLevel:function(e){n([].concat(Object(l.a)(t),[e]))}})]})},B=function(e){var t=e.editTeacher,n=e.teacherToEdit,r=n._id,s=n.name,a=n.login,i=n.students,l=n.levels,u=n.isAdmin,d=Object(c.useState)(s),j=Object(o.a)(d,2),f=j[0],p=j[1],O=Object(c.useState)(a),m=Object(o.a)(O,2),h=m[0],v=m[1],x=Object(c.useState)(u||!1),g=Object(o.a)(x,2),N=g[0],w=g[1],y=Object(c.useState)(i),S=Object(o.a)(y,2),k=S[0],C=S[1],_=Object(c.useState)(l),L=Object(o.a)(_,2),A=L[0],T=L[1];return Object(b.jsx)("div",{className:"edit-teacher-form add-form",children:Object(b.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({id:r,name:f,login:h,students:k,levels:A,isAdmin:N})}(e)},children:[Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u0424\u0418\u041e",name:"name",id:"name",value:f,onChange:function(e){return p(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"name",className:"form-label",children:"\u0424\u0418\u041e"})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",id:"login",value:h,onChange:function(e){return v(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"login",className:"form-label",children:"\u041b\u043e\u0433\u0438\u043d"})]}),Object(b.jsxs)("div",{className:"form-group field flex",children:[Object(b.jsx)("label",{htmlFor:"admin",className:"form-label",children:"\u0410\u0434\u043c\u0438\u043d: "}),Object(b.jsx)("input",{type:"checkbox",className:"form-field",placeholder:"\u0410\u0434\u043c\u0438\u043d",name:"admin",id:"admin",checked:N,onChange:function(e){return w(e.target.checked)}})]}),Object(b.jsx)(I,{students:k,setStudents:C}),Object(b.jsx)(U,{levels:A,setLevels:T})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",children:Object(b.jsx)("span",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})})},J=(n(80),function(e){var t=e.title,n=void 0===t?"\u041c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e":t,c=e.open,r=e.closeModal,s=e.content,a=function(){window.confirm("\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0432 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?")&&r()};return Object(b.jsxs)("div",{className:"wrapper ".concat(c?"open":"close"),children:[Object(b.jsx)("div",{className:"modal-bg"}),Object(b.jsx)("div",{className:"modal-wrapper",onClick:function(e){e.target.classList.contains("modal-wrapper")&&a()},children:Object(b.jsxs)("div",{className:"modal",children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)("div",{className:"title",children:n}),Object(b.jsx)("div",{className:"close-btn-wrapper",children:Object(b.jsx)("div",{className:"close-btn",onClick:a,children:Object(b.jsx)(S.e,{})})})]}),Object(b.jsx)("div",{className:"content",children:s})]})})]})}),W=function(e){var t=e.logout,n=e.setAlert,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],u=s[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),f=j[0],m=j[1],h=Object(c.useState)(!1),v=Object(o.a)(h,2),x=v[0],N=v[1],w=Object(c.useState)([]),y=Object(o.a)(w,2),S=y[0],C=y[1],_=function(){N(!1)};Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/teachers/get-teachers");case 2:t=e.sent,C(t.data.teachers);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]);var L=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/teachers",Object(i.a)({},t));case 3:c=e.sent,r=c.data.user,C([].concat(Object(l.a)(S),[r])),n("\u0423\u0447\u0438\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/teachers",{headers:{},data:{teacherId:t}});case 3:C(S.filter((function(e){return e._id!==t}))),n("\u0423\u0447\u0438\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d","success"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r,s,a,i,l,o,u,d,j;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,r=t.name,s=t.login,a=t.students,i=t.levels,l=t.isAdmin,o=a.map((function(e){return e._id})),u=i.map((function(e){return e._id})),e.prev=3,e.next=6,g.put("/teachers",{id:c,name:r,login:s,isAdmin:l,students:o,levels:u});case 6:j=e.sent,d=j.data.teacher,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 14:_(),C(S.map((function(e){return e._id===c?d:e}))),n("\u0423\u0447\u0438\u0442\u0435\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d","success");case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t,c){var r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.confirm("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g.post("/teachers/reset-password",{id:t});case 5:r=e.sent,alert("\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(c,": ").concat(r.data.p)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{logout:t}),Object(b.jsx)("div",{className:"view-content",children:Object(b.jsxs)("div",{className:"view-content-inner",children:[Object(b.jsx)("button",{className:"btn",onClick:function(){return u(!a)},children:a?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0438\u0442\u0435\u043b\u044f"}),a&&Object(b.jsx)(T,{addTeacher:L}),Object(b.jsx)(F,{teachers:S,deleteTeacher:A,openTeacher:function(e){m(e),N(!0)},resetPassword:D}),Object(b.jsx)(J,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0447\u0438\u0442\u0435\u043b\u044f: \n ".concat(f.name),open:x,closeModal:_,content:x&&Object(b.jsx)(B,{teacherToEdit:f,editTeacher:E,setAlert:n})})]})})]})},z=function(e){var t=e.createLesson,n=e.category,r=Object(c.useState)(),s=Object(o.a)(r,2),a=s[0],i=s[1];return Object(b.jsx)("div",{className:"add-lesson-form add-form",children:Object(b.jsx)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({lessonTitle:a,category:n._id})}(e)},children:Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430",name:"login",id:"login",onChange:function(e){return i(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"login",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0423\u0440\u043e\u043a\u0430"})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",id:"addLesson",children:Object(b.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})})})},H=function(e){var t=e.lesson,n=e.deleteLesson,c=e.openLesson;return Object(b.jsxs)("div",{className:"lesson-wrapper item-wrapper",children:[Object(b.jsx)("h4",{className:"lesson-title",children:t.name}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"delete-btn",onClick:function(){return n()},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){return c()},children:Object(b.jsx)(S.b,{})})]})]})},V=function(e){var t=e.lessons,n=e.deleteLesson,c=e.openLesson;return Object(b.jsx)("div",{className:"lessons-list-wrapper",children:t.map((function(e){return Object(b.jsx)(H,{lesson:e,deleteLesson:function(){return n(e._id)},openLesson:function(){return c(e._id)}},e._id)}))})},G=(n(81),function(e){var t=e.newLessonTitle,n=e.setNewLessonTitle,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1],l=Object(c.useState)(t),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object(b.jsxs)("div",{className:"title-wrapper",id:"title-wrapper",children:[a?Object(b.jsxs)("div",{className:"editing-wrapper",children:[Object(b.jsx)("div",{className:"close-btn",onClick:function(){i(!1),n(d)},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"confirm-btn",onClick:function(){i(!1),j(t)},children:Object(b.jsx)(S.a,{})})]}):Object(b.jsxs)("div",{className:"non-editing-wrapper",children:[Object(b.jsx)("div",{className:"title-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430: "}),Object(b.jsx)("div",{className:"title-placeholder",children:t}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){i(!0),j(t)},children:Object(b.jsx)(S.b,{})})]}),a&&Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430",name:"lessonTitle",id:"lessonTitle",value:t,onChange:function(e){return n(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"lessonTitle",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430"})]})]})}),K=n(22),Q=(n(82),function(e){var t=e.slide,n=(t._id,t.tip),c=t.img,r=t.hasAbacus,s=e.deleteSlide,a=e.openSlide;return Object(b.jsxs)("div",{className:"slide-item-wrapper",children:[Object(b.jsx)("div",{className:"tip",children:n}),Object(b.jsx)("div",{className:"img-wrapper",children:Object(b.jsx)("div",{className:"img",children:c?Object(b.jsx)("img",{src:c,alt:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}):Object(b.jsx)("div",{className:"empty-slide",children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430"})})}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"delete-btn",onClick:function(){return s()},children:Object(b.jsx)(S.e,{})}),!r&&Object(b.jsx)("div",{className:"edit-btn",onClick:function(){return a()},children:Object(b.jsx)(S.b,{})})]})]})}),X=function(e){var t=e.slides,n=e.setSlidesOrder,c=e.deleteSlide,r=e.openSlide,s=function(e){if(e.destination){var c=function(e,t,n){var c=Array.from(e),r=c.splice(t,1),s=Object(o.a)(r,1)[0];return c.splice(n,0,s),c}(t,e.source.index,e.destination.index);n(c)}};return Object(b.jsx)(K.a,{onDragEnd:function(e){return s(e)},children:Object(b.jsx)(K.c,{droppableId:"slides-list-wrapper",direction:"horizontal",children:function(e,n){return Object(b.jsxs)("div",Object(i.a)(Object(i.a)({ref:e.innerRef,style:(s=n.isDraggingOver,{background:s?"lightblue":"lightgrey",display:"flex",padding:8,overflow:"auto",height:"30vh"})},e.droppableProps),{},{children:[t.map((function(e,t){return Object(b.jsx)(K.b,{draggableId:e._id,index:t,children:function(t,n){return Object(b.jsx)("div",Object(i.a)(Object(i.a)(Object(i.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(n.isDragging,s=t.draggableProps.style,Object(i.a)({userSelect:"none",margin:"0 ".concat(8,"px 0 0"),height:"100%"},s)),children:Object(b.jsx)(Q,{slide:e,deleteSlide:function(){return c(e._id)},openSlide:function(){return r(e._id)}})}));var s}},e._id)})),e.placeholder]}));var s}})})},Y=n(37),Z=n(40),$=n(7),ee=n.n($),te={width:"100%"},ne={display:"flex",flexDirection:"column",flexWrap:"wrap",paddingTop:10},ce={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},re={display:"flex",minWidth:0,overflow:"hidden"},se={display:"block",width:"auto",height:"100%"},ae={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"},ie={borderColor:"#2196f3"},le={borderColor:"#00e676"},oe={borderColor:"#ff1744"},ue=function(e){var t=e.filePicked,n=e.showPreview,r=void 0===n||n,s=Object(c.useState)([]),a=Object(o.a)(s,2),l=a[0],u=a[1],d=Object(c.useCallback)(function(){var e=Object(O.a)(Object(p.a)().mark((function e(n){var c,r,s,a,i,l;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],r=Object(Y.a)(n),e.prev=2,r.s();case 4:if((s=r.n()).done){e.next=14;break}return a=s.value,(i=new FormData).append("file",a),e.next=10,g.post("/files/",i,{headers:{"Content-Type":"multipart/form-data"}});case 10:l=e.sent,c.push("".concat(v.a,"/").concat(l.data));case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:u(c),t(c);case 24:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),[t]),j=Object(Z.a)({accept:"image/*",onDrop:d,maxFiles:1}),f=j.getRootProps,m=j.getInputProps,h=j.isDragActive,x=j.isDragAccept,N=j.isDragReject,w=Object(c.useMemo)((function(){return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},ae),h?ie:{}),x?le:{}),N?oe:{})}),[h,N,x]),y=l.map((function(e){return Object(b.jsx)("div",{style:ce,children:Object(b.jsx)("div",{style:re,children:Object(b.jsx)("img",{src:e,style:se,alt:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})})},e)}));return Object(b.jsxs)("div",{className:"container",style:te,children:[Object(b.jsxs)("div",Object(i.a)(Object(i.a)({},f({style:w})),{},{children:[Object(b.jsx)("input",Object(i.a)({},m())),Object(b.jsx)("p",{children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0441\u044e\u0434\u0430, \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b..."})]})),l.length>0&&r&&Object(b.jsxs)("aside",{style:ne,children:[Object(b.jsx)("h3",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b..."}),y]})]})};ue.props={filePicked:ee.a.func.isRequired,showPreview:ee.a.bool};var de=ue,je=(n(84),function(e){var t=e.createSlide,n=e.category,r=Object(c.useState)(),s=Object(o.a)(r,2),a=s[0],i=s[1],l=Object(c.useState)(),u=Object(o.a)(l,2),d=u[0],j=u[1],f=Object(c.useState)(!1),p=Object(o.a)(f,2),O=p[0],m=p[1],h=Object(c.useState)(!1),x=Object(o.a)(h,2),g=x[0],N=x[1];return Object(b.jsx)("div",{className:"add-slide-wrapper",children:Object(b.jsxs)("div",{className:"inputs-wrapper",children:["\u041c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u043a\u0430"===n.name&&Object(b.jsxs)("div",{className:"form-group field abacus",children:[Object(b.jsx)("label",{htmlFor:"hasAbacus",children:"\u0410\u0431\u0430\u043a\u0443\u0441: "}),Object(b.jsx)("input",{type:"checkbox",placeholder:"\u0410\u0431\u0430\u043a\u0443\u0441",name:"hasAbacus",id:"hasAbacus",checked:O,onChange:function(e){return m(e.target.checked)}})]}),"\u0428\u0430\u0445\u043c\u0430\u0442\u044b"===n.name&&Object(b.jsxs)("div",{className:"form-group field abacus",children:[Object(b.jsx)("label",{htmlFor:"hasAbacus",children:"\u0414\u043e\u0441\u043a\u0430: "}),Object(b.jsx)("input",{type:"checkbox",placeholder:"\u0414\u043e\u0441\u043a\u0430",name:"setNewHasChessboard",id:"hasChessboard",checked:g,onChange:function(e){return N(e.target.checked)}})]}),Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 \u0434\u043b\u044f \u0443\u0447\u0438\u0442\u0435\u043b\u044f",name:"tip",id:"tip",onChange:function(e){return i(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"tip",className:"form-label",children:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 \u0434\u043b\u044f \u0443\u0447\u0438\u0442\u0435\u043b\u044f"})]}),!O&&Object(b.jsx)(de,{filePicked:function(e){j(e[0])}}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",onClick:function(e){return function(e){e.preventDefault(),t(O||g?{tip:a,file:"".concat(v.a,"/slides/abacusBg.jpeg"),hasAbacus:O,hasChessboard:g}:{tip:a,file:d,hasAbacus:O,hasChessboard:g})}(e)},children:Object(b.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})})}),be=(n(85),function(e){var t=e.slide,n=t._id,r=t.tip,s=t.img,a=e.editSlide,i=e.closeForm,l=Object(c.useState)(r),u=Object(o.a)(l,2),d=u[0],j=u[1],f=Object(c.useState)(s),p=Object(o.a)(f,2),O=p[0],m=p[1];return Object(b.jsxs)("div",{className:"slide-editor add-slide-wrapper",children:[Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 \u0434\u043b\u044f \u0443\u0447\u0438\u0442\u0435\u043b\u044f",name:"tip",id:"tip",value:d,onChange:function(e){return j(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"tip",className:"form-label",children:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 \u0434\u043b\u044f \u0443\u0447\u0438\u0442\u0435\u043b\u044f"})]}),Object(b.jsx)(de,{showPreview:!1,filePicked:function(e){m(e[0])}}),O&&Object(b.jsx)("div",{className:"preview",children:Object(b.jsx)("div",{className:"preview-inner",children:Object(b.jsx)("img",{src:O,alt:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})})})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",onClick:function(e){return function(e){e.preventDefault(),a({id:n,tip:d,file:O,hasAbacus:!1}),i()}(e)},children:Object(b.jsx)("span",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})}),fe=(n(86),n(94)),pe=function(e){var t=e.slides,n=e.category,r=e.setSlides,s=e.setAlert,a=Object(c.useState)(!1),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)(!1),f=Object(o.a)(j,2),m=f[0],h=f[1],v=Object(c.useState)({}),x=Object(o.a)(v,2),g=x[0],N=x[1],w=function(){h(!1)},y=function(){var e=Object(O.a)(Object(p.a)().mark((function e(n){var c,s,a,i;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.tip,s=n.file,a=n.hasAbacus,i=n.hasChessboard,r([].concat(Object(l.a)(t),[{tip:c,img:s,hasAbacus:a,hasChessboard:i,_id:Object(fe.a)()}]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(Object(p.a)().mark((function e(n){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t.filter((function(e){return e._id!==n})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(Object(p.a)().mark((function e(n){var c,s,a,i;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.id,s=n.tip,a=n.file,i=n.hasAbacus,r(t.map((function(e){return e._id===c?{_id:c,tip:s,img:a,hasAbacus:i}:e})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"slides-wrapper",children:[Object(b.jsx)("div",{className:"add-slide-btn",onClick:function(){return d(!u)},children:u?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434"}),u&&Object(b.jsx)(je,{createSlide:function(e){return y(e)},category:n}),t.length?Object(b.jsx)(X,{slides:t,setSlidesOrder:function(e){r(e)},openSlide:function(e){h(!0);var n=t.filter((function(t){return t._id===e}))[0];if(!n)return s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u0441\u043b\u0430\u0439\u0434\u0430","danger");N(n)},deleteSlide:S}):"",Object(b.jsx)(J,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u0430\u0439\u0434\u0430",open:m,closeModal:w,content:m&&Object(b.jsx)(be,{slide:g,editSlide:k,closeForm:w})})]})},Oe=(n(87),function(e){var t=e.lessonToEdit,n=t._id,r=t.slides,s=t.name,a=t.category,i=e.categories,l=e.setAlert,u=e.editLesson,d=Object(c.useState)(s),j=Object(o.a)(d,2),f=j[0],p=j[1],O=Object(c.useState)({}),m=Object(o.a)(O,2),h=m[0],v=m[1],x=Object(c.useState)(r),g=Object(o.a)(x,2),N=g[0],w=g[1];return Object(b.jsx)("div",{className:"edit-lesson-form add-form",children:Object(b.jsxs)("form",{id:"form",onSubmit:function(e){return function(e){e.preventDefault(),u({id:n,title:f,slides:N,category:h._id}),w([])}(e)},children:[Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsx)(G,{newLessonTitle:f,setNewLessonTitle:p}),Object(b.jsx)(P,{items:i,onChange:function(e){v(i.find((function(t){return t._id===e})))},label:h.name,defaultValue:a,valueField:"_id"}),Object(b.jsx)(pe,{slides:N,setSlides:w,setAlert:l,category:h})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",children:Object(b.jsx)("span",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})})}),me=function(e){var t=e.logout,n=e.setAlert,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],f=d[1],m=Object(c.useState)({}),h=Object(o.a)(m,2),v=h[0],x=h[1],N=Object(c.useState)([]),w=Object(o.a)(N,2),y=w[0],S=w[1],C=Object(c.useState)([]),_=Object(o.a)(C,2),L=_[0],A=_[1],T=Object(c.useState)([]),E=Object(o.a)(T,2),F=E[0],D=E[1],q=Object(c.useState)({}),I=Object(o.a)(q,2),R=I[0],M=I[1],U=function(){f(!1)};Object(c.useEffect)((function(){A(y.filter((function(e){return e.category===R._id})))}),[y,R]),Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/lessons/get-lessons");case 2:t=e.sent,S(t.data.lessons);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/categories/get-categories");case 2:t=e.sent,D(t.data.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]);var B=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r,s,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.lessonTitle,r=t.category,e.prev=1,e.next=4,g.post("/lessons",{name:c,category:r});case 4:s=e.sent,a=s.data.lesson,S([].concat(Object(l.a)(y),[a])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/lessons",{headers:{},data:{lessonId:t}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 9:S(y.filter((function(e){return e._id!==t})));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.put("/lessons",t);case 3:r=e.sent,c=r.data.lesson,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 10:U(),S(y.map((function(e){return e._id===t.id?c:e})));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{logout:t}),Object(b.jsx)("div",{className:"view-content",children:Object(b.jsxs)("div",{className:"view-content-inner",children:[Object(b.jsx)(P,{items:F,onChange:function(e){M(F.find((function(t){return t._id===e})))},label:R?R.name:null,valueField:"_id"}),Object(b.jsx)("button",{className:"btn",onClick:function(){return i(!a)},children:a?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0440\u043e\u043a"}),a&&Object(b.jsx)(z,{createLesson:B,category:R}),Object(b.jsx)(V,{lessons:L,deleteLesson:W,openLesson:function(e){f(!0);var t=y.filter((function(t){return t._id===e}))[0];if(!t)return n("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u0443\u0440\u043e\u043a\u0430","danger");x(t)}}),Object(b.jsx)(J,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430: \n ".concat(v.name),open:j,closeModal:U,content:j&&Object(b.jsx)(Oe,{lessonToEdit:v,categories:F,editLesson:H,setAlert:n})})]})})]})},he=function(e){var t=e.createLevel,n=e.category,r=Object(c.useState)(),s=Object(o.a)(r,2),a=s[0],i=s[1];return Object(b.jsx)("div",{className:"add-level-form add-form",children:Object(b.jsx)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({levelTitle:a,category:n._id})}(e)},children:Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f",name:"levelName",id:"levelName",onChange:function(e){return i(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"levelName",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f"})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",id:"addLevel",children:Object(b.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})})})},ve=function(e){var t=e.level,n=e.deleteLevel,c=e.openLevel;return Object(b.jsxs)("div",{className:"level-wrapper item-wrapper",children:[Object(b.jsx)("h4",{className:"level-title",children:t.name}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"delete-btn",onClick:function(){return n()},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){return c()},children:Object(b.jsx)(S.b,{})})]})]})},xe=function(e){var t=e.levels,n=e.deleteLevel,c=e.openLevel;return Object(b.jsx)("div",{className:"levels-list-wrapper",children:t.map((function(e){return Object(b.jsx)(ve,{level:e,deleteLevel:function(){return n(e._id)},openLevel:function(){return c(e._id)}},e._id)}))})},ge=(n(88),function(e){var t=e.newLevelTitle,n=e.setNewLevelTitle,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1],l=Object(c.useState)(t),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object(b.jsxs)("div",{className:"title-wrapper",id:"title-wrapper",children:[a?Object(b.jsxs)("div",{className:"editing-wrapper",children:[Object(b.jsx)("div",{className:"close-btn",onClick:function(){i(!1),n(d)},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"confirm-btn",onClick:function(){i(!1),j(t)},children:Object(b.jsx)(S.a,{})})]}):Object(b.jsxs)("div",{className:"non-editing-wrapper",children:[Object(b.jsx)("div",{className:"title-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f: "}),Object(b.jsx)("div",{className:"title-placeholder",children:t}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){i(!0),j(t)},children:Object(b.jsx)(S.b,{})})]}),a&&Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f",name:"levelTitle",id:"levelTitle",value:t,onChange:function(e){return n(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"levelTitle",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f"})]})]})}),Ne=function(e){var t=e.lesson,n=e.deleteLesson;return Object(b.jsxs)("div",{className:"level-lesson-item inline-item",children:[Object(b.jsx)("div",{className:"label",children:t.name}),Object(b.jsx)("div",{className:"delete-btn",onClick:n,children:Object(b.jsx)(S.e,{})})]})},we=function(e){var t=e.lessons,n=e.setSelectedLesson,c=t.map((function(e){return Object.assign(e,{html:Object(b.jsx)("div",{className:"lesson-item",children:e.name})})}));return Object(b.jsx)("div",{children:Object(b.jsx)(P,{items:c,onChange:function(e){n(t.find((function(t){return t._id===e})))},label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u043a\u0438...",valueField:"_id"})})},ye=function(e){var t=e.lessons,n=void 0===t?[]:t,r=e.setLessons,s=e.category,a=Object(c.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1],j=Object(c.useState)([]),f=Object(o.a)(j,2),m=f[0],h=f[1];Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/lessons/get-lessons",{namesOnly:!0,category:s});case 2:t=e.sent,d(t.data.lessons);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[s]),Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/lessons/get-lessons",{namesOnly:!0,category:s});case 2:t=e.sent,d(t.data.lessons);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[m]),Object(c.useEffect)((function(){h(n.map((function(e){return e._id})))}),[n]);return Object(b.jsxs)("div",{className:"levels-lessons-wrapper inline-list",children:[Object(b.jsxs)("div",{className:"list-wrapper",children:[Object(b.jsx)("div",{className:"group-title",children:"\u0423\u0440\u043e\u043a\u0438:"}),n.map((function(e){return Object(b.jsx)(Ne,{lesson:e,deleteLesson:function(){return t=e._id,void r(n.filter((function(e){return e._id!==t})));var t}},e._id)}))]}),Object(b.jsx)(we,{lessons:u.filter((function(e){return!m.includes(e._id)})),setSelectedLesson:function(e){r([].concat(Object(l.a)(n),[e]))}})]})},Se=(n(89),function(e){var t=e.editLevel,n=e.levelToEdit,r=n._id,s=n.name,a=n.lessons,i=e.category,l=Object(c.useState)(s),u=Object(o.a)(l,2),d=u[0],j=u[1],f=Object(c.useState)(a),p=Object(o.a)(f,2),O=p[0],m=p[1];return Object(b.jsx)("div",{className:"edit-level-form add-form",children:Object(b.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({id:r,name:d,lessons:O,category:i})}(e)},children:[Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsx)(ge,{newLevelTitle:d,setNewLevelTitle:j}),Object(b.jsx)(ye,{lessons:O,category:i,setLessons:m})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",children:Object(b.jsx)("span",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})})}),ke=function(e){var t=e.logout,n=e.setAlert,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],f=d[1],m=Object(c.useState)({}),h=Object(o.a)(m,2),v=h[0],x=h[1],N=Object(c.useState)([]),w=Object(o.a)(N,2),y=w[0],S=w[1],C=Object(c.useState)([]),_=Object(o.a)(C,2),L=_[0],A=_[1],T=Object(c.useState)([]),E=Object(o.a)(T,2),F=E[0],D=E[1],q=Object(c.useState)({}),I=Object(o.a)(q,2),R=I[0],M=I[1],U=function(){f(!1)};Object(c.useEffect)((function(){A(y.filter((function(e){return e.category===R._id})))}),[y,R]),Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/levels/get-levels");case 2:t=e.sent,S(t.data.levels);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/categories/get-categories");case 2:t=e.sent,D(t.data.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]);var B=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r,s,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.levelTitle,r=t.category,e.prev=1,e.next=4,g.post("/levels",{name:c,category:r});case 4:s=e.sent,a=s.data.level,S([].concat(Object(l.a)(y),[a])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/levels",{headers:{},data:{levelId:t}});case 3:S(y.filter((function(e){return e._id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r,s,a,i,l,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,r=t.name,s=t.lessons,a=t.category,i=s.map((function(e){return e._id})),e.prev=2,e.next=5,g.put("/levels",{id:c,name:r,lessons:i,category:a});case 5:o=e.sent,l=o.data.level,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 12:U(),S(y.map((function(e){return e._id===c?l:e})));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{logout:t}),Object(b.jsx)("div",{className:"view-content",children:Object(b.jsxs)("div",{className:"view-content-inner",children:[Object(b.jsx)(P,{items:F,onChange:function(e){M(F.find((function(t){return t._id===e})))},label:R?R.name:null,valueField:"_id"}),Object(b.jsx)("button",{className:"btn",onClick:function(){return i(!a)},children:a?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c"}),a&&Object(b.jsx)(he,{createLevel:B,category:R}),Object(b.jsx)(xe,{levels:L,deleteLevel:W,openLevel:function(e){f(!0);var t=y.filter((function(t){return t._id===e}))[0];if(!t)return n("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u0443\u0440\u043e\u0432\u043d\u044f","danger");x(t)}}),Object(b.jsx)(J,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f: \n ".concat(v.name),open:j,closeModal:U,content:j&&Object(b.jsx)(Se,{levelToEdit:v,category:R,editLevel:z,setAlert:n})})]})})]})},Ce=n(39),_e=(n(90),function(){return Object(b.jsx)("div",{className:"holder",children:Object(b.jsxs)("svg",{className:"loader",viewBox:"0 0 24 24",children:[Object(b.jsx)("circle",{className:"loader__value",cx:"12",cy:"12",r:"10"}),Object(b.jsx)("circle",{className:"loader__value",cx:"12",cy:"12",r:"10"}),Object(b.jsx)("circle",{className:"loader__value",cx:"12",cy:"12",r:"10"}),Object(b.jsx)("circle",{className:"loader__value",cx:"12",cy:"12",r:"10"}),Object(b.jsx)("circle",{className:"loader__value",cx:"12",cy:"12",r:"10"}),Object(b.jsx)("circle",{className:"loader__value",cx:"12",cy:"12",r:"10"})]})})}),Le=["component","auth"],Ae=function(e){var t=e.component,n=e.auth,c=n.isAuthenticated,r=n.loading,s=Object(Ce.a)(e,Le);return Object(b.jsx)(d.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return r?Object(b.jsx)(_e,{}):c?Object(b.jsx)(t,Object(i.a)(Object(i.a)({},e),s)):Object(b.jsx)(d.a,{to:"/login"})}}))},Te=(n(91),function(e){var t=e.createCategory,n=Object(c.useState)(),r=Object(o.a)(n,2),s=r[0],a=r[1];return Object(b.jsx)("div",{className:"add-lesson-form add-form",children:Object(b.jsx)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({categoryTitle:s})}(e)},children:Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",name:"category",id:"category",onChange:function(e){return a(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"category",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",id:"addLesson",children:Object(b.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})})})}),Ee=function(e){var t=e.category,n=e.deleteCategory,c=e.openCategory;return Object(b.jsxs)("div",{className:"category-wrapper item-wrapper",children:[Object(b.jsx)("h4",{className:"category-title",children:t.name}),Object(b.jsxs)("div",{className:"btn-wrapper",children:[Object(b.jsx)("div",{className:"delete-btn",onClick:function(){return n()},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){return c()},children:Object(b.jsx)(S.b,{})})]})]})},Fe=function(e){var t=e.categories,n=e.deleteCategory,c=e.openCategory;return Object(b.jsx)("div",{className:"categories-list-wrapper",children:t.map((function(e){return Object(b.jsx)(Ee,{category:e,deleteCategory:function(){return n(e._id)},openCategory:function(){return c(e._id)}},e._id)}))})},De=(n(92),function(e){var t=e.newCategoryName,n=e.setNewCategoryName,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1],l=Object(c.useState)(t),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object(b.jsxs)("div",{className:"title-wrapper",id:"category-wrapper",children:[a?Object(b.jsxs)("div",{className:"editing-wrapper",children:[Object(b.jsx)("div",{className:"close-btn",onClick:function(){i(!1),n(d)},children:Object(b.jsx)(S.e,{})}),Object(b.jsx)("div",{className:"confirm-btn",onClick:function(){i(!1),j(t)},children:Object(b.jsx)(S.a,{})})]}):Object(b.jsxs)("div",{className:"non-editing-wrapper",children:[Object(b.jsx)("div",{className:"title-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: "}),Object(b.jsx)("div",{className:"title-placeholder",children:t}),Object(b.jsx)("div",{className:"edit-btn",onClick:function(){i(!0),j(t)},children:Object(b.jsx)(S.b,{})})]}),a&&Object(b.jsxs)("div",{className:"form-group field",children:[Object(b.jsx)("input",{autoComplete:"off",type:"input",className:"form-field",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",name:"categoryName",id:"levelName",value:t,onChange:function(e){return n(e.target.value)},required:!0}),Object(b.jsx)("label",{htmlFor:"levelName",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})]})]})}),Pe=function(e){var t=e.teacher,n=e.deleteTeacher;return Object(b.jsxs)("div",{className:"category-teacher-item inline-item",children:[Object(b.jsx)("div",{className:"label",children:t.name}),Object(b.jsx)("div",{className:"delete-btn",onClick:n,children:Object(b.jsx)(S.e,{})})]})},qe=function(e){var t=e.teachers,n=e.setSelectedTeacher,c=t.map((function(e){return Object.assign(e,{html:Object(b.jsx)("div",{className:"teacher-item",children:e.name})})}));return Object(b.jsx)("div",{children:Object(b.jsx)(P,{items:c,onChange:function(e){n(c.find((function(t){return t._id===e})))},label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0438\u0442\u0435\u043b\u0435\u0439...",valueField:"_id"})})},Ie=function(e){var t=e.teachers,n=void 0===t?[]:t,r=e.setTeachers,s=Object(c.useState)([]),a=Object(o.a)(s,2),i=a[0],u=a[1],d=Object(c.useState)([]),j=Object(o.a)(d,2),f=j[0],m=j[1];Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/teachers/get-teachers");case 2:t=e.sent,u(t.data.teachers);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[f]),Object(c.useEffect)((function(){m(n.map((function(e){return e._id})))}),[n]);return Object(b.jsxs)("div",{className:"categories-teachers-wrapper inline-list",children:[Object(b.jsxs)("div",{className:"list-wrapper",children:[Object(b.jsx)("div",{className:"group-title",children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044f:"}),n.map((function(e){return Object(b.jsx)(Pe,{teacher:e,deleteTeacher:function(){return t=e._id,void r(n.filter((function(e){return e._id!==t})));var t}},e._id)}))]}),Object(b.jsx)(qe,{teachers:i.filter((function(e){return!f.includes(e._id)})),setSelectedTeacher:function(e){r([].concat(Object(l.a)(n),[e]))}})]})},Re=function(e){var t=e.editCategory,n=e.categoryToEdit,r=n._id,s=n.name,a=n.teachers,i=Object(c.useState)(s),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)(a),f=Object(o.a)(j,2),p=f[0],O=f[1];return Object(b.jsx)("div",{className:"edit-category-form add-form",children:Object(b.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({id:r,name:u,teachers:p.map((function(e){return e._id}))})}(e)},children:[Object(b.jsxs)("div",{className:"inputs-wrapper",children:[Object(b.jsx)(De,{newCategoryName:u,setNewCategoryName:d}),Object(b.jsx)(Ie,{teachers:p,setTeachers:O})]}),Object(b.jsx)("div",{className:"submit-btn-wrapper",children:Object(b.jsx)("button",{type:"submit",className:"btn",children:Object(b.jsx)("span",{children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})})},Me=function(e){var t=e.logout,n=e.setAlert,r=Object(c.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),j=d[0],f=d[1],m=Object(c.useState)({}),h=Object(o.a)(m,2),v=h[0],x=h[1],N=Object(c.useState)([]),w=Object(o.a)(N,2),y=w[0],S=w[1],C=function(){f(!1)};Object(c.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/categories/get-categories");case 2:t=e.sent,S(t.data.categories);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){return console.error(e)}))}),[]);var _=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.categoryTitle,e.prev=1,e.next=4,g.post("/categories",{name:c});case 4:r=e.sent,s=r.data.lesson,S([].concat(Object(l.a)(y),[s])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/categories",{headers:{},data:{categoryId:t}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 9:S(y.filter((function(e){return e._id!==t})));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.put("/categories",t);case 3:r=e.sent,c=r.data.category,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response.data.errors.forEach((function(e){n(e.msg,"danger")}));case 10:C(),S(y.map((function(e){return e._id===t.id?c:e})));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{logout:t}),Object(b.jsx)("div",{className:"view-content",children:Object(b.jsxs)("div",{className:"view-content-inner",children:[Object(b.jsx)("button",{className:"btn",onClick:function(){return i(!a)},children:a?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),a&&Object(b.jsx)(Te,{createCategory:_}),Object(b.jsx)(Fe,{categories:y,deleteCategory:L,openCategory:function(e){f(!0);var t=y.filter((function(t){return t._id===e}))[0];if(!t)return n("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438","danger");x(t)}}),Object(b.jsx)(J,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430: \n ".concat(v.name),open:j,closeModal:C,content:j&&Object(b.jsx)(Re,{categoryToEdit:v,editCategory:A,setAlert:n})})]})})]})},Ue=function(){var e=j(),t=e.user,n=e.setUser,r=e.unsetUser,s=Object(c.useState)({isAuthenticated:Boolean(t&&t.token),isLoading:!1}),a=Object(o.a)(s,2),p=a[0],O=a[1],m=Object(c.useState)([]),h=Object(o.a)(m,2),v=h[0],x=h[1],g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,c=Object(fe.a)();x([].concat(Object(l.a)(v),[{msg:e,alertType:t,id:c}])),setTimeout((function(){return N(c)}),n)},N=function(e){x((function(t){return t.filter((function(t){return t.id!==e}))}))},y=function(){r(),O({isAuthenticated:!1,isLoading:!1})};return Object(b.jsxs)("section",{className:"container",children:[Object(b.jsx)(f,{alerts:v}),Object(b.jsx)(u.a,{children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{exact:!0,path:"/login",render:function(e){return Object(b.jsx)(w,Object(i.a)(Object(i.a)({},e),{},{setAuth:O,setAlert:g,setUser:n,auth:p}))}}),Object(b.jsx)(Ae,{exact:!0,path:"/teachers-view",setAlert:g,component:W,auth:p,user:t,logout:y}),Object(b.jsx)(Ae,{exact:!0,path:"/students-view",setAlert:g,component:A,auth:p,user:t,logout:y}),Object(b.jsx)(Ae,{exact:!0,path:"/lessons-view",setAlert:g,component:me,auth:p,user:t,logout:y}),Object(b.jsx)(Ae,{exact:!0,path:"/levels-view",setAlert:g,component:ke,auth:p,user:t,logout:y}),Object(b.jsx)(Ae,{exact:!0,path:"/categories-view",setAlert:g,component:Me,auth:p,user:t,logout:y}),Object(b.jsx)(d.b,{path:"*",render:function(){return p.isAuthenticated?Object(b.jsx)(d.a,{to:"/lessons-view"}):Object(b.jsx)(d.a,{to:"/login"})}})]})})]})};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Ue,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.1b12c8d7.chunk.js.map