{"version":3,"sources":["utils/useUser.js","components/ui/Alert.js","utils/api.js","components/login/Login.js","components/ui/MenuItem.js","components/ui/Header.js","components/studentsView/addStudent/AddStudent.js","components/studentsView/studentsList/studentItem/StudentItem.js","components/studentsView/studentsList/StudentsList.js","components/studentsView/StudentsView.js","components/teachersView/addTeacher/AddTeacher.js","components/teachersView/teachersList/teacherItem/TeacherItem.js","components/teachersView/teachersList/TeachersList.js","components/teachersView/teacherView/teachersStudentsList/teacherStudentItem/TeachersStudentItem.js","components/ui/Selector.js","components/teachersView/teacherView/studentsSelector/StudentsSelector.js","components/teachersView/teacherView/teachersStudentsList/TeachersStudentsList.js","components/teachersView/teacherView/teachersLevelsList/teachersLevelItem/TeachersLevelItem.js","components/teachersView/teacherView/levelsSelector/LevelsSelector.js","components/teachersView/teacherView/teachersLevelsList/TeachersLevelsList.js","components/teachersView/teacherView/TeacherView.js","components/ui/Modal.js","components/teachersView/TeachersView.js","components/lessonsView/addLesson/AddLesson.js","components/lessonsView/lessonsList/lessonItem/LessonItem.js","components/lessonsView/lessonsList/LessonsList.js","components/lessonsView/lessonView/lessonTitleEditor/LessonTitleEditor.js","components/lessonsView/lessonView/slidesEditor/slideList/slideItem/SlideItem.js","components/lessonsView/lessonView/slidesEditor/slideList/SlideList.js","components/ui/MyDropzone.js","components/lessonsView/lessonView/slidesEditor/addSlide/AddSlide.js","components/lessonsView/lessonView/slidesEditor/slideView/SlideView.js","components/lessonsView/lessonView/slidesEditor/SlidesEditor.js","components/lessonsView/lessonView/LessonView.js","components/lessonsView/LessonsView.js","components/levelsView/addLevel/AddLevel.js","components/levelsView/levelsList/levelItem/LevelItem.js","components/levelsView/levelsList/LevelsList.js","components/levelsView/levelView/levelTitleEditor/LevelTitleEditor.js","components/levelsView/levelView/levelsLessonsList/levelsLessonItem/LevelsLessonItem.js","components/levelsView/levelView/LessonsSelector/LessonsSelector.js","components/levelsView/levelView/levelsLessonsList/LevelsLessonsList.js","components/levelsView/levelView/LevelView.js","components/levelsView/LevelsView.js","components/ui/Spinner.js","components/ui/PrivateRoute.js","components/categories/addCategory/AddCategory.js","components/categories/categoriesList/categoryItem/CategoryItem.js","components/categories/categoriesList/CategoriesList.js","components/categories/categoryView/categoryNameEditor/CategoryNameEditor.js","components/categories/categoryView/categoriesTeachersList/categoriesTeacherItem/CategoriesTeacherItem.js","components/categories/categoryView/teachersSelector/TeachersSelector.js","components/categories/categoryView/categoriesTeachersList/CategoriesTeachersList.js","components/categories/categoryView/CategoryView.js","components/categories/CategoriesView.js","App.js","index.js"],"names":["useUser","useState","userString","sessionStorage","getItem","user","JSON","parse","undefined","getUser","setUser","userToken","setItem","stringify","unsetUser","removeItem","Alert","alerts","className","map","alert","alertType","msg","id","api","axios","create","baseURL","serverUrl","headers","interceptors","response","use","res","err","console","log","Number","status","Promise","reject","loginUser","credentials","post","data","errors","Login","setAuth","setAlert","history","useHistory","login","setLogin","password","setPassword","handleSubmit","e","preventDefault","isLoading","isAuthenticated","push","forEach","onSubmit","autoComplete","type","placeholder","name","onChange","target","value","required","htmlFor","MenuItem","link","label","to","Header","logout","onClick","AddStudent","addStudent","setName","StudentItem","student","deleteStudent","resetPassword","title","StudentsList","students","_id","StudentsView","addStudentVisible","setAddStudentVisible","setStudents","useEffect","getStudents","catch","error","createStudent","newStudent","studentId","delete","filter","i","studentName","window","confirm","p","createLesson","AddTeacher","addTeacher","isAdmin","setIsAdmin","checked","TeacherItem","teacher","deleteTeacher","openTeacher","TeachersList","teachers","TeachersStudentItem","Selector","items","valueField","defaultValue","open","setOpen","length","StudentsSelector","setSelectedStudent","formattedStudents","Object","assign","html","find","TeachersStudentsList","allStudents","setAllStudents","studentsIds","newStudents","includes","TeachersLevelItem","level","deleteLevel","LevelsSelector","levels","setSelectedLevel","TeachersLevelsList","setLevels","allLevels","setAllLevels","getLevels","levelsIds","newLevels","TeacherView","editTeacher","teacherToEdit","oldName","oldLogin","oldStudents","oldLevels","oldIsAdmin","Modal","closeModal","content","close","classList","contains","TeachersView","addTeacherVisible","setAddTeacherVisible","setTeacherToEdit","modalOpen","setModalOpen","setTeachers","getTeachers","createTeacher","newTeacher","teacherId","put","createdTeacher","teacherName","AddLesson","category","lessonTitle","setLessonTitle","LessonItem","lesson","deleteLesson","openLesson","LessonsList","lessons","LessonTitleEditor","newLessonTitle","setNewLessonTitle","editingTitle","setEditingTitle","savedTitle","setSavedTitle","SlideItem","slide","tip","img","hasAbacus","deleteSlide","openSlide","src","alt","SlideList","slides","setSlidesOrder","onDragEnd","result","destination","list","startIndex","endIndex","Array","from","splice","removed","reorder","source","index","droppableId","direction","provided","snapshot","ref","innerRef","style","isDraggingOver","background","display","padding","overflow","height","droppableProps","draggableId","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","margin","container","width","thumbsContainer","flexDirection","flexWrap","paddingTop","thumb","borderRadius","border","marginBottom","marginRight","boxSizing","thumbInner","minWidth","baseStyle","flex","alignItems","borderWidth","borderColor","borderStyle","backgroundColor","color","outline","transition","cursor","activeStyle","acceptStyle","rejectStyle","MyDropzone","filePicked","showPreview","files","setFiles","onDrop","useCallback","acceptedFiles","urls","file","formData","FormData","append","useDropzone","accept","maxFiles","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","thumbs","props","PropTypes","func","isRequired","bool","AddSlide","createSlide","setTip","setFile","newHasAbacus","setNewHasAbacus","newHasChessboard","setNewHasChessboard","hasChessboard","SlideView","editSlide","closeForm","newTip","setNewTip","newFile","setNewFile","SlidesEditor","setSlides","addingSlide","setAddingSlide","slideToEdit","setSlideToEdit","uuidv4","LessonView","lessonToEdit","categories","editLesson","newCategory","setNewCategory","newSlides","setNewSlides","LessonsView","addLessonVisible","setAddLessonVisible","setLessonToEdit","setLessons","visibleLessons","setVisibleLessons","setCategories","setCategory","getLessons","getCategories","newLesson","lessonId","createdLesson","categoryId","AddLevel","createLevel","levelTitle","setLevelTitle","LevelItem","openLevel","LevelsList","LevelTitleEditor","newLevelTitle","setNewLevelTitle","LevelsLessonItem","LessonsSelector","setSelectedLesson","formattedLevels","LevelsLessonsList","allLessons","setAllLessons","lessonsIds","setLessonsIds","namesOnly","LevelView","editLevel","levelToEdit","oldLeveTitle","oldLessons","LevelsView","addLevelVisible","setAddLevelVisible","setLevelToEdit","visibleLevels","setVisibleLevels","newLevel","levelId","newLessons","createdLevel","Spinner","viewBox","cx","cy","r","PrivateRoute","Component","component","auth","loading","rest","render","AddCategory","createCategory","categoryTitle","setCategoryTitle","CategoryItem","deleteCategory","openCategory","CategoriesList","CategoryNameEditor","newCategoryName","setNewCategoryName","editingName","setEditingName","savedName","setSavedName","CategoriesTeacherItem","TeachersSelector","setSelectedTeacher","formattedTeachers","CategoriesTeachersList","allTeachers","setAllTeachers","teachersIds","setTeachersIds","CategoryView","editCategory","categoryToEdit","oldCategoryName","oldTeachers","categoryName","setCategoryName","CategoriesView","addCategoryVisible","setAddCategoryVisible","setCategoryToEdit","createdCategory","App","Boolean","token","setAlerts","timeout","setTimeout","removeAlert","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1b12c8d7.chunk.js","sourcesContent":["import {useState} from 'react';\n\nconst useUser = () => {\n  const getUser = () => {\n    const userString = sessionStorage.getItem('user');\n    const user = JSON.parse(userString);\n    return user ? user : undefined\n  };\n\n  const [user, setUser] = useState(getUser());\n\n  const saveUser = userToken => {\n    sessionStorage.setItem('user', JSON.stringify(userToken));\n    setUser(userToken);\n  };\n  const unsetUser = () => {\n    sessionStorage.removeItem('user');\n    setUser(undefined);\n  }\n\n  return {\n    setUser: saveUser,\n    user: user,\n    unsetUser: unsetUser\n  }\n}\n\nexport default useUser;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Alert.scss';\n\nconst Alert = ({alerts}) => {\n  return (\n    <div className={'alerts-holder'}>\n      {\n        alerts.map(\n          (alert) => (\n            <div key={alert.id} className={`alert alert-${alert.alertType}`}>\n              {alert.msg}\n            </div>\n          )\n        )\n      }\n    </div>\n  )\n}\n\nAlert.propTypes = {\n  alerts: PropTypes.array.isRequired\n};\n\nexport default Alert;","import axios from 'axios';\nimport useUser from \"./useUser\";\nimport {serverUrl} from '../config.json';\n\nconst api = axios.create({\n  baseURL: `${serverUrl}/api`,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n/**\n intercept any error responses from the api\n and check if the token is no longer valid.\n ie. Token has expired or user is no longer\n authenticated.\n logout the user if the token has expired\n **/\n\napi.interceptors.response.use(\n  res => res,\n  err => {\n    console.log(err)\n    if (Number(err.response.status) === 401) {\n      const {unsetUser} = useUser();\n      unsetUser();\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default api;","import React, {useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport api from \"../../utils/api\";\n\nimport './Login.scss'\n\nconst loginUser = async ({credentials}) => {\n  try {\n    const res = await api.post('/auth/admin', credentials);\n    return res.data;\n  } catch (e) {\n    throw e.response.data.errors;\n  }\n}\n\nconst Login = ({setUser, setAuth, setAlert}) => {\n  const history = useHistory();\n  const [login, setLogin] = useState();\n  const [password, setPassword] = useState();\n\n  const outputErrors = (errors) => {\n    errors.forEach(err => {\n      setAlert(err.msg, 'danger')\n    })\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n    setAuth({isLoading: true, isAuthenticated: false});\n    try {\n      const user = await loginUser({\n        credentials: {\n          login,\n          password,\n        }\n      });\n      setUser(user)\n      setAuth({isLoading: false, isAuthenticated: true});\n      history.push(\"/lessons-view\");\n\n    } catch (errors) {\n      setAuth({isLoading: false, isAuthenticated: false});\n      outputErrors(errors);\n    }\n  }\n\n  return (\n    <div className=\"login-wrapper\">\n      <div className='background-holder'>\n        <div className=\"login-form\">\n\n          <form className='form' onSubmit={(e) => handleSubmit(e)}>\n            <div className=\"login-header\">\n              <p>Добро пожаловать в <br/>\n                <span className='golden-compass'><span className='g-letter'>G</span>olden Compass</span>\n                <span className='golden-compass'>Панель управления администратора</span>\n              </p>\n            </div>\n            <div className={'inputs-wrapper'}>\n              <div className=\"form-group field\">\n                <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Логин\" name=\"login\" id='login'\n                       onChange={e => setLogin(e.target.value)} required/>\n                <label htmlFor=\"login\" className=\"form-label\">Логин</label>\n              </div>\n\n              <div className=\"form-group field\">\n                <input type=\"password\" className=\"form-field\" placeholder=\"Пароль\" name=\"password\" id='password'\n                       onChange={e => setPassword(e.target.value)} required/>\n                <label htmlFor=\"password\" className=\"form-label\">Пароль</label>\n              </div>\n\n              <div className='submit-btn-wrapper'>\n                <button type=\"submit\" className='btn' id='loginBtn'>\n                  <span>Войти</span>\n                </button>\n              </div>\n            </div>\n          </form>\n          <div className='login-image'>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  auth: PropTypes.object.isRequired,\n  setAlert: PropTypes.func.isRequired,\n  setAuth: PropTypes.func.isRequired,\n  setUser: PropTypes.func.isRequired\n}\n\nexport default Login;","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport PropTypes from \"prop-types\";\n\nimport './MenuItem.scss'\n\nconst MenuItem = ({link, label}) => {\n  return (\n    <div className={\"menu-item underline\"}>\n      <Link to={link}>{label}</Link>\n    </div>\n  )\n}\n\nMenuItem.propTypes = {\n  link: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n}\n\nexport default MenuItem;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport MenuItem from \"./MenuItem\";\nimport {FaSignOutAlt} from 'react-icons/fa';\n\nimport './Header.scss'\n\nconst Header = ({logout}) => {\n  return (\n    <header className='header'>\n      <div className={'menu'}>\n        <MenuItem link={'/teachers-view'} label={'Учителя'}/>\n        <MenuItem link={'/students-view'} label={'Ученики'}/>\n        <MenuItem link={'/categories-view'} label={'Категории'}/>\n        <MenuItem link={'/lessons-view'} label={'Уроки'}/>\n        <MenuItem link={'/levels-view'} label={'Уровни'}/>\n      </div>\n\n\n      <div className={'logout'}>\n        <button id='logoutBtn' onClick={logout}>\n          <FaSignOutAlt/>\n        </button>\n      </div>\n    </header>\n  )\n}\n\nHeader.propTypes = {\n  logout: PropTypes.func.isRequired,\n}\n\nexport default Header;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nconst AddStudent = ({addStudent}) => {\n  const [login, setLogin] = useState();\n  const [password, setPassword] = useState();\n  const [name, setName] = useState();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    addStudent({name, login, password});\n  }\n\n  return (\n    <div>\n      <div className={'add-student-form add-form'}>\n        <form className='form' onSubmit={(e) => handleSubmit(e)}>\n          <div className={'inputs-wrapper'}>\n            <div className=\"form-group field\">\n              <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"ФИО\" name=\"name\" id='name'\n                     onChange={e => setName(e.target.value)} required/>\n              <label htmlFor=\"name\" className=\"form-label\">ФИО</label>\n            </div>\n\n            <div className=\"form-group field\">\n              <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Логин\" name=\"login\" id='login'\n                     onChange={e => setLogin(e.target.value)} required/>\n              <label htmlFor=\"login\" className=\"form-label\">Логин</label>\n            </div>\n\n            <div className=\"form-group field\">\n              <input type=\"password\" className=\"form-field\" placeholder=\"Пароль\" name=\"password\" id='password'\n                     onChange={e => setPassword(e.target.value)} required/>\n              <label htmlFor=\"password\" className=\"form-label\">Пароль</label>\n            </div>\n\n            <div className='submit-btn-wrapper'>\n              <button type=\"submit\" className='btn' id='addStudent'>\n                <span>Создать</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n    </div>\n  )\n}\n\nAddStudent.propTypes = {\n  addStudent: PropTypes.func.isRequired,\n};\n\nexport default AddStudent;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaSyncAlt, FaTimes} from 'react-icons/fa';\n\nconst StudentItem = ({student, deleteStudent, resetPassword}) => {\n  return (\n    <div className={'student-wrapper item-wrapper'}>\n      <h4 className={'teacher-title'}>\n        ФИО: {student.name}<br/>\n        Логин: {student.login}\n      </h4>\n      <div className={'btn-wrapper'}>\n        <div className={'delete-btn'} onClick={() => deleteStudent()}>\n          <FaTimes/>\n        </div>\n        <div className={'reset-btn'} onClick={() => resetPassword()} title=\"Сменить пароль\">\n          <FaSyncAlt/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nStudentItem.propTypes = {\n  student: PropTypes.object.isRequired,\n  deleteStudent: PropTypes.func.isRequired,\n  resetPassword: PropTypes.func.isRequired,\n};\n\nexport default StudentItem;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport StudentItem from \"./studentItem/StudentItem\";\n\nconst StudentsList = ({students, deleteStudent, resetPassword}) => {\n\n  return (\n    <div className={'students-list-wrapper'}>\n      {\n        students.map(student => <StudentItem key={student._id} student={student}\n                                             deleteStudent={() => deleteStudent(student._id)}\n                                             resetPassword={() => resetPassword(student._id, student.name)}/>)\n      }\n    </div>\n  )\n}\n\nStudentsList.propTypes = {\n  students: PropTypes.array.isRequired,\n  deleteStudent: PropTypes.func.isRequired,\n  resetPassword: PropTypes.func.isRequired,\n};\n\nexport default StudentsList;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport Header from \"../ui/Header\";\n\nimport AddStudent from \"./addStudent/AddStudent\";\nimport StudentsList from \"./studentsList/StudentsList\";\n\nimport api from \"../../utils/api\";\n\nconst StudentsView = ({logout, setAlert}) => {\n  const [addStudentVisible, setAddStudentVisible] = useState(false);\n  const [students, setStudents] = useState([]);\n\n  useEffect(() => {\n    const getStudents = async () => {\n      const res = await api.post('/students/get-students');\n      setStudents(res.data.students);\n    }\n    getStudents().catch((err) => console.error(err))\n\n  }, []);\n\n  const createStudent = async (student) => {\n    try {\n      const res = await api.post('/students', {...student});\n      const newStudent = res.data.user;\n      setStudents([...students, newStudent])\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const deleteStudent = async (studentId) => {\n    try {\n      await api.delete('/students', {\n        headers: {},\n        data: {\n          studentId\n        },\n      });\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    setStudents(students.filter(i => i._id !== studentId))\n  }\n\n  const resetPassword = async (studentId, studentName) => {\n    try {\n      if(!window.confirm('Сбросить пароль данного пользователя?')) return\n      const res = await api.post('/students/reset-password', {id: studentId});\n      alert(`Новый пароль для пользователя ${studentName}: ${res.data.p}`)\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n  return (\n    <div>\n      <Header logout={logout}/>\n      <div className={'view-content'}>\n        <div className={'view-content-inner'}>\n\n          <button className={'btn'}\n                  onClick={() => setAddStudentVisible(!addStudentVisible)}>{addStudentVisible ? 'Закрыть' : 'Добавить ученика'}</button>\n          {addStudentVisible && <AddStudent createLesson={createStudent} addStudent={createStudent}/>}\n\n          <StudentsList students={students} deleteStudent={deleteStudent} resetPassword={resetPassword}/>\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nStudentsView.propTypes = {\n  logout: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired,\n};\n\nexport default StudentsView;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nconst AddTeacher = ({addTeacher}) => {\n  const [login, setLogin] = useState();\n  const [isAdmin, setIsAdmin] = useState();\n  const [password, setPassword] = useState();\n  const [name, setName] = useState();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    addTeacher({name, login, password, isAdmin});\n  }\n\n  return (\n    <div>\n      <div className={'add-teacher-form add-form'}>\n        <form className='form' onSubmit={(e) => handleSubmit(e)}>\n          <div className={'inputs-wrapper'}>\n\n            <div className=\"form-group field abacus\">\n              <label htmlFor=\"isAdmin\">Привелегии администратора: </label>\n              <input type=\"checkbox\" placeholder=\"Абакус\" name=\"isAdmin\" id='isAdmin'\n                     onChange={e => setIsAdmin(e.target.checked)}/>\n            </div>\n\n            <div className=\"form-group field\">\n              <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"ФИО\" name=\"name\" id='name'\n                     onChange={e => setName(e.target.value)} required/>\n              <label htmlFor=\"name\" className=\"form-label\">ФИО</label>\n            </div>\n\n            <div className=\"form-group field\">\n              <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Логин\" name=\"login\" id='login'\n                     onChange={e => setLogin(e.target.value)} required/>\n              <label htmlFor=\"login\" className=\"form-label\">Логин</label>\n            </div>\n\n            <div className=\"form-group field\">\n              <input autoComplete='off' type=\"password\" className=\"form-field\" placeholder=\"Пароль\" name=\"password\" id='password'\n                     onChange={e => setPassword(e.target.value)} required/>\n              <label htmlFor=\"password\" className=\"form-label\">Пароль</label>\n            </div>\n\n            <div className='submit-btn-wrapper'>\n              <button type=\"submit\" className='btn' id='addStudent'>\n                <span>Создать</span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n    </div>\n  )\n}\n\nAddTeacher.propTypes = {\n  addTeacher: PropTypes.func.isRequired,\n};\n\nexport default AddTeacher;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaTimes, FaEdit, FaSyncAlt} from 'react-icons/fa';\n\nconst TeacherItem = ({teacher, deleteTeacher, openTeacher, resetPassword}) => {\n\n  return (\n    <div className={'teacher-wrapper item-wrapper'}>\n      <h4 className={'teacher-title'}>\n        ФИО: {teacher.name}<br/>\n        Логин: {teacher.login}<br/>\n        Админ: {teacher.isAdmin ? \"Да\" : \"Нет\"}\n      </h4>\n      <div className={'btn-wrapper'}>\n        <div className={'delete-btn'} onClick={() => deleteTeacher()}>\n          <FaTimes/>\n        </div>\n        <div className={'edit-btn'} onClick={() => openTeacher()}>\n          <FaEdit/>\n        </div>\n        <div className={'reset-btn'} onClick={() => resetPassword()} title=\"Сменить пароль\">\n          <FaSyncAlt/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nTeacherItem.propTypes = {\n  teacher: PropTypes.object.isRequired,\n  deleteTeacher: PropTypes.func.isRequired,\n  openTeacher: PropTypes.func.isRequired,\n  resetPassword: PropTypes.func.isRequired,\n};\n\nexport default TeacherItem;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport TeacherItem from \"./teacherItem/TeacherItem\";\n\nconst TeachersList = ({teachers, deleteTeacher, openTeacher, resetPassword}) => {\n\n  return (\n    <div className={'teachers-list-wrapper'}>\n      {\n        teachers.map(teacher => <TeacherItem key={teacher._id} teacher={teacher}\n                                             deleteTeacher={() => deleteTeacher(teacher._id)}\n                                             openTeacher={() => openTeacher(teacher)}\n                                             resetPassword={() => resetPassword(teacher._id, teacher.name)}/>)\n      }\n    </div>\n  )\n}\n\nTeachersList.propTypes = {\n  teachers: PropTypes.array.isRequired,\n  deleteTeacher: PropTypes.func.isRequired,\n  openTeacher: PropTypes.func.isRequired,\n  resetPassword: PropTypes.func.isRequired,\n};\n\nexport default TeachersList;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {FaTimes} from \"react-icons/fa\";\n\nconst TeachersStudentItem = ({student, deleteStudent}) => {\n  return (\n    <div className={'teacher-student-item inline-item'}>\n      <div className={'label'}>{student.name} ({student.login})</div>\n\n      <div className={'delete-btn'} onClick={deleteStudent}>\n        <FaTimes/>\n      </div>\n\n    </div>\n  )\n}\n\n\nTeachersStudentItem.propTypes = {\n  student: PropTypes.object.isRequired,\n  deleteStudent: PropTypes.func.isRequired,\n};\n\nexport default TeachersStudentItem;","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport './Selector.scss';\n\nconst Selector = ({items, onChange, label='Выберите категорию...', valueField, defaultValue = null}) => {\n  const [open, setOpen] = useState(false)\n\n  useEffect(() => {\n    if (defaultValue) {\n      onChange(defaultValue)\n    }\n  }, [])\n\n  return (\n    <div className={'selector-wrapper'}>\n      <div className={'items-wrapper'}>\n        <div className={'placeholder'} onClick={() => items.length && setOpen(true)}>\n          {items.length ? label : 'Значения отсутствуют...'}\n        </div>\n\n        {open && <div className={'selector-bg'} onClick={() => setOpen(false)}/>}\n\n        {open && <div className={'items'}>\n          {\n            items.map(i => <div key={i[valueField]} className={'s-item-wrapper'} onClick={() => {\n              setOpen(false);\n              onChange(i[valueField]);\n            }}>{i.name}</div>)\n          }\n        </div>\n        }\n      </div>\n    </div>\n  )\n}\n\n\nSelector.propTypes = {\n  items: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  valueField: PropTypes.string.isRequired,\n  defaultValue: PropTypes.string\n};\n\nexport default Selector;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Selector from \"../../../ui/Selector\";\n\nconst StudentsSelector = ({students, setSelectedStudent}) => {\n\n  const formattedStudents = students.map(student => {\n\n    return Object.assign(student, {\n      html: (\n        <div className={'student-item'}>\n          ФИО: {student.name}<br/>\n          Логин: {student.login}\n        </div>\n      )\n    })\n  })\n\n  const onChange = (id) => {\n    setSelectedStudent(students.find(i => i._id === id))\n  }\n\n  return (\n    <div>\n      <Selector items={formattedStudents} onChange={onChange} label={'Выберите студента...'}\n                valueField={'_id'}/>\n    </div>\n  )\n}\n\n\nStudentsSelector.propTypes = {\n  students: PropTypes.array.isRequired,\n  setSelectedStudent: PropTypes.func.isRequired,\n};\n\nexport default StudentsSelector;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport api from \"../../../../utils/api\";\nimport TeachersStudentItem from \"./teacherStudentItem/TeachersStudentItem\";\nimport StudentsSelector from \"../studentsSelector/StudentsSelector\";\n\n\nconst TeachersStudentsList = ({students, setStudents}) => {\n  const [allStudents, setAllStudents] = useState([]);\n\n  useEffect(() => {\n    const getStudents = async () => {\n      const res = await api.post('/students/get-students');\n      const studentsIds = students.map(student => student._id)\n      const newStudents = res.data.students.filter(student => !studentsIds.includes(student._id))\n      setAllStudents(newStudents);\n    }\n    getStudents().catch((err) => console.error(err))\n\n  }, [students]);\n\n  const setSelectedStudent = (student) => {\n    setStudents([...students, student])\n  }\n\n  const deleteStudent = (id) => {\n    setStudents(students.filter(student => student._id !== id));\n  }\n\n\n  return (\n    <div className={'teachers-students-wrapper inline-list'}>\n      <div className={'list-wrapper'}>\n        <div className={'group-title'}>Студенты:</div>\n        {\n          students.map(student => <TeachersStudentItem key={student._id} student={student}\n                                                       deleteStudent={() => deleteStudent(student._id)}/>)\n        }\n      </div>\n      <StudentsSelector students={allStudents} setSelectedStudent={setSelectedStudent}/>\n    </div>\n  )\n}\n\nTeachersStudentsList.propTypes = {\n  students: PropTypes.array.isRequired,\n  setStudents: PropTypes.func.isRequired,\n};\n\nexport default TeachersStudentsList;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {FaTimes} from \"react-icons/fa\";\n\nconst TeachersLevelItem = ({level, deleteLevel}) => {\n  return (\n    <div className={'teacher-level-item inline-item'}>\n      <div className={'label'}>{level.name}</div>\n\n      <div className={'delete-btn'} onClick={deleteLevel}>\n        <FaTimes/>\n      </div>\n\n    </div>\n  )\n}\n\n\nTeachersLevelItem.propTypes = {\n  level: PropTypes.object.isRequired,\n  deleteLevel: PropTypes.func.isRequired,\n};\n\nexport default TeachersLevelItem;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Selector from \"../../../ui/Selector\";\n\nconst LevelsSelector = ({levels, setSelectedLevel}) => {\n\n  const formattedStudents = levels.map(student => {\n\n    return Object.assign(student, {\n      html: (\n        <div className={'level-item'}>\n          {student.name}\n        </div>\n      )\n    })\n  })\n\n  const onChange = (id) => {\n    setSelectedLevel(levels.find(i => i._id === id))\n  }\n\n  return (\n    <div>\n      <Selector items={formattedStudents} onChange={onChange} label={'Выберите доступные уровни...'}\n                valueField={'_id'}/>\n    </div>\n  )\n}\n\n\nLevelsSelector.propTypes = {\n  levels: PropTypes.array.isRequired,\n  setSelectedLevel: PropTypes.func.isRequired,\n};\n\nexport default LevelsSelector;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport api from \"../../../../utils/api\";\nimport TeachersLevelItem from \"./teachersLevelItem/TeachersLevelItem\";\nimport LevelsSelector from \"../levelsSelector/LevelsSelector\";\n\n\nconst TeachersLevelsList = ({levels, setLevels}) => {\n  const [allLevels, setAllLevels] = useState([]);\n\n  useEffect(() => {\n    const getLevels = async () => {\n      const res = await api.post('/levels/get-levels');\n      const levelsIds = levels.map(level => level._id)\n      const newLevels = res.data.levels.filter(level => !levelsIds.includes(level._id))\n      setAllLevels(newLevels);\n    }\n    getLevels().catch((err) => console.error(err))\n\n  }, [levels]);\n\n  const setSelectedLevel = (level) => {\n    setLevels([...levels, level])\n  }\n\n  const deleteStudent = (id) => {\n    setLevels(levels.filter(level => level._id !== id));\n  }\n\n\n  return (\n    <div className={'teachers-levels-wrapper inline-list'}>\n      <div className={'list-wrapper'}>\n        <div className={'group-title'}>Уровни:</div>\n        {\n          levels.map(level => <TeachersLevelItem key={level._id} level={level}\n                                                     deleteLevel={() => deleteStudent(level._id)}/>)\n        }\n      </div>\n      <LevelsSelector levels={allLevels} setSelectedLevel={setSelectedLevel}/>\n    </div>\n  )\n}\n\nTeachersLevelsList.propTypes = {\n  levels: PropTypes.array.isRequired,\n  setLevels: PropTypes.func.isRequired,\n};\n\nexport default TeachersLevelsList;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport TeachersStudentsList from \"./teachersStudentsList/TeachersStudentsList\";\nimport TeachersLevelsList from \"./teachersLevelsList/TeachersLevelsList\";\n\nconst TeacherView = ({\n                       editTeacher,\n                       teacherToEdit: {\n                         _id: id,\n                         name: oldName,\n                         login: oldLogin,\n                         students: oldStudents,\n                         levels: oldLevels,\n                         isAdmin: oldIsAdmin\n                       }\n                     }) => {\n  const [name, setName] = useState(oldName);\n  const [login, setLogin] = useState(oldLogin);\n  const [isAdmin, setIsAdmin] = useState(oldIsAdmin || false);\n  const [students, setStudents] = useState(oldStudents);\n  const [levels, setLevels] = useState(oldLevels);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    editTeacher({id, name, login, students, levels, isAdmin})\n  }\n\n  return (\n    <div className={'edit-teacher-form add-form'}>\n      <form className='form' onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <div className=\"form-group field\">\n            <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"ФИО\" name=\"name\" id='name'\n                   value={name}\n                   onChange={e => setName(e.target.value)} required/>\n            <label htmlFor=\"name\" className=\"form-label\">ФИО</label>\n          </div>\n\n          <div className=\"form-group field\">\n            <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Логин\" name=\"login\" id='login'\n                   value={login}\n                   onChange={e => setLogin(e.target.value)} required/>\n            <label htmlFor=\"login\" className=\"form-label\">Логин</label>\n          </div>\n\n          <div className=\"form-group field flex\">\n            <label htmlFor=\"admin\" className=\"form-label\">Админ: </label>\n            <input type=\"checkbox\" className=\"form-field\" placeholder=\"Админ\" name=\"admin\" id='admin'\n                   checked={isAdmin}\n                   onChange={e => setIsAdmin(e.target.checked)}/>\n          </div>\n\n          <TeachersStudentsList students={students} setStudents={setStudents}/>\n\n          <TeachersLevelsList levels={levels} setLevels={setLevels}/>\n        </div>\n\n        <div className='submit-btn-wrapper'>\n          <button type=\"submit\" className='btn'>\n            <span>Закончить редактирование</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nTeacherView.propTypes = {\n  editTeacher: PropTypes.func.isRequired,\n  teacherToEdit: PropTypes.object.isRequired,\n};\n\nexport default TeacherView;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaTimes} from \"react-icons/fa\";\n\nimport './Modal.scss';\n\nconst Modal = ({title = 'Модальное окно', open, closeModal, content}) => {\n\n  const close = () => {\n    if (window.confirm('Закрыть не сохранив изменения?')) {\n      closeModal()\n    }\n  }\n\n  const clickOutside = (e) => {\n    if(e.target.classList.contains('modal-wrapper')) close()\n  }\n\n  return (\n    <div className={`wrapper ${open ? 'open' : 'close'}`}>\n      <div className={`modal-bg`}/>\n      <div className={'modal-wrapper'} onClick={clickOutside}>\n        <div className={'modal'}>\n          <div className={'header'}>\n            <div className={'title'}>{title}</div>\n\n            <div className={'close-btn-wrapper'}>\n              <div className={'close-btn'} onClick={close}><FaTimes/></div>\n            </div>\n          </div>\n          <div className={'content'}>\n            {content}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n}\n\nModal.propTypes = {\n  title: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  content: PropTypes.node,\n};\n\nexport default Modal;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport Header from \"../ui/Header\";\n\nimport AddTeacher from \"../teachersView/addTeacher/AddTeacher\";\nimport TeachersList from \"./teachersList/TeachersList\";\nimport TeacherView from \"../teachersView/teacherView/TeacherView\";\n\nimport Modal from \"../ui/Modal\";\nimport api from \"../../utils/api\";\n\n\nconst TeachersView = ({logout, setAlert}) => {\n  const [addTeacherVisible, setAddTeacherVisible] = useState(false);\n  const [teacherToEdit, setTeacherToEdit] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  const [teachers, setTeachers] = useState([]);\n\n  const closeModal = () => {\n    setModalOpen(false)\n  }\n\n  const openTeacher = (teacher) => {\n    setTeacherToEdit(teacher)\n    setModalOpen(true)\n  }\n\n\n  useEffect(() => {\n    const getTeachers = async () => {\n      const res = await api.post('/teachers/get-teachers');\n      setTeachers(res.data.teachers);\n    }\n    getTeachers().catch((err) => console.error(err))\n\n  }, []);\n\n\n  const createTeacher = async (teacher) => {\n    try {\n      const res = await api.post('/teachers', {...teacher});\n      const newTeacher = res.data.user;\n      setTeachers([...teachers, newTeacher])\n      setAlert(\"Учитель создан\", 'success')\n    } catch (e) {\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const deleteTeacher = async (teacherId) => {\n    try {\n      await api.delete('/teachers', {\n        headers: {},\n        data: {\n          teacherId\n        },\n      });\n      setTeachers(teachers.filter(i => i._id !== teacherId))\n      setAlert(\"Учитель удален\", 'success')\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const editTeacher = async ({id, name, login, students, levels, isAdmin}) => {\n    const newStudents = students.map(student => student._id)\n    const newLevels = levels.map(level => level._id)\n\n    let createdTeacher;\n    try {\n      let res = await api.put('/teachers', {id, name, login, isAdmin, students: newStudents, levels: newLevels});\n      createdTeacher = res.data.teacher;\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    closeModal()\n\n    setTeachers(teachers.map((teacher) => {\n      if (teacher._id === id) return createdTeacher;\n      else return teacher;\n    }))\n    setAlert(\"Учитель изменен\", 'success')\n  }\n\n  const resetPassword = async (teacherId, teacherName) => {\n    try {\n      if(!window.confirm('Сбросить пароль данного пользователя?')) return\n      const res = await api.post('/teachers/reset-password', {id: teacherId});\n      alert(`Новый пароль для пользователя ${teacherName}: ${res.data.p}`)\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  return (\n    <div>\n      <Header logout={logout}/>\n\n      <div className={'view-content'}>\n        <div className={'view-content-inner'}>\n\n          <button className={'btn'}\n                  onClick={() => setAddTeacherVisible(!addTeacherVisible)}>{addTeacherVisible ? 'Закрыть' : 'Добавить учителя'}</button>\n          {addTeacherVisible && <AddTeacher addTeacher={createTeacher}/>}\n\n          <TeachersList teachers={teachers} deleteTeacher={deleteTeacher} openTeacher={openTeacher} resetPassword={resetPassword}/>\n\n          <Modal\n            title={`Редактирование учителя: \\n ${teacherToEdit.name}`}\n            open={modalOpen}\n            closeModal={closeModal}\n            content={\n              modalOpen && <TeacherView teacherToEdit={teacherToEdit} editTeacher={editTeacher} setAlert={setAlert}/>\n            }\n          />\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nTeachersView.propTypes = {\n  logout: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired,\n};\n\nexport default TeachersView;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nconst AddLesson = ({createLesson, category}) => {\n  const [lessonTitle, setLessonTitle] = useState();\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    createLesson({lessonTitle, category: category._id});\n  }\n\n  return (\n    <div className={'add-lesson-form add-form'}>\n      <form className='form' onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <div className=\"form-group field\">\n            <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Название урока\" name=\"login\" id='login'\n                   onChange={e => setLessonTitle(e.target.value)} required/>\n            <label htmlFor=\"login\" className=\"form-label\">Название Урока</label>\n          </div>\n\n          <div className='submit-btn-wrapper'>\n            <button type=\"submit\" className='btn' id='addLesson'>\n              <span>Создать</span>\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nAddLesson.propTypes = {\n  createLesson: PropTypes.func.isRequired,\n  category: PropTypes.object.isRequired\n};\n\nexport default AddLesson;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaTimes, FaEdit} from 'react-icons/fa';\n\nconst LessonItem = ({lesson, deleteLesson, openLesson}) => {\n  return (\n    <div className={'lesson-wrapper item-wrapper'}>\n      <h4 className={'lesson-title'}>{lesson.name}</h4>\n      <div className={'btn-wrapper'}>\n        <div className={'delete-btn'} onClick={() => deleteLesson()}>\n          <FaTimes/>\n        </div>\n        <div className={'edit-btn'} onClick={() => openLesson()}>\n          <FaEdit/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nLessonItem.propTypes = {\n  lesson: PropTypes.object.isRequired,\n  deleteLesson: PropTypes.func.isRequired,\n  openLesson: PropTypes.func.isRequired,\n};\n\nexport default LessonItem;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport LessonItem from \"./lessonItem/LessonItem\";\n\nconst LessonsList = ({lessons, deleteLesson, openLesson}) => {\n  return (\n    <div className={'lessons-list-wrapper'}>\n      {\n        lessons.map(lesson => <LessonItem key={lesson._id} lesson={lesson}\n                                          deleteLesson={() => deleteLesson(lesson._id)}\n                                          openLesson={() => openLesson(lesson._id)}/>)\n      }\n    </div>\n  )\n}\n\nLessonsList.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  deleteLesson: PropTypes.func.isRequired,\n  openLesson: PropTypes.func.isRequired,\n};\n\nexport default LessonsList;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaEdit, FaTimes, FaCheck} from \"react-icons/fa\";\n\nimport './LessonTitleEditor.scss';\n\nconst LessonTitleEditor = ({newLessonTitle, setNewLessonTitle}) => {\n  const [editingTitle, setEditingTitle] = useState(false);\n  const [savedTitle, setSavedTitle] = useState(newLessonTitle);\n\n  return (\n    <div className={'title-wrapper'} id={'title-wrapper'}>\n      {editingTitle\n        ?\n        <div className={'editing-wrapper'}>\n          <div className={'close-btn'}\n               onClick={() => {\n                 setEditingTitle(false)\n                 setNewLessonTitle(savedTitle)\n               }}>\n            <FaTimes/>\n          </div>\n          <div className={'confirm-btn'}\n               onClick={() => {\n                 setEditingTitle(false)\n                 setSavedTitle(newLessonTitle)\n               }}>\n            <FaCheck/>\n          </div>\n        </div>\n        :\n        <div className={'non-editing-wrapper'}>\n          <div className={'title-label'}>Название урока: </div>\n          <div className={'title-placeholder'}>\n            {newLessonTitle}\n          </div>\n          <div className={'edit-btn'} onClick={() => {\n            setEditingTitle(true)\n            setSavedTitle(newLessonTitle)\n          }}>\n            <FaEdit/>\n          </div>\n        </div>\n      }\n\n      {editingTitle && <div className=\"form-group field\">\n        <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Название урока\" name=\"lessonTitle\"\n               id='lessonTitle'\n               value={newLessonTitle}\n               onChange={e => setNewLessonTitle(e.target.value)} required/>\n        <label htmlFor=\"lessonTitle\" className=\"form-label\">Название урока</label>\n      </div>}\n    </div>\n  )\n\n}\n\nLessonTitleEditor.propTypes = {\n  newLessonTitle: PropTypes.string.isRequired,\n  setNewLessonTitle: PropTypes.func.isRequired,\n};\n\nexport default LessonTitleEditor;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaEdit, FaTimes} from \"react-icons/fa\";\n\nimport './SlideItem.scss';\n\nconst SlideItem = ({slide: {_id, tip, img, hasAbacus}, deleteSlide, openSlide}) => {\n  return (\n    <div className={'slide-item-wrapper'}>\n      <div className={'tip'}>\n        {tip}\n      </div>\n      <div className={'img-wrapper'}>\n        <div className={'img'}>\n          {img ? <img\n            src={img}\n            alt={'Загружаемое изображение'}\n          /> : <div className={'empty-slide'}>Картинка не выбрана</div>}\n\n        </div>\n      </div>\n\n      <div className={'btn-wrapper'}>\n        <div className={'delete-btn'} onClick={() => deleteSlide()}>\n          <FaTimes/>\n        </div>\n        {!hasAbacus && <div className={'edit-btn'} onClick={() => openSlide()}>\n          <FaEdit/>\n        </div>}\n      </div>\n    </div>\n  )\n}\n\nSlideItem.propTypes = {\n  slide: PropTypes.object.isRequired,\n  deleteSlide: PropTypes.func.isRequired,\n  openSlide: PropTypes.func.isRequired,\n};\n\nexport default SlideItem;","// import React, {useState} from 'react';\nimport React from 'react';\nimport PropTypes from \"prop-types\";\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\n\nimport SlideItem from \"./slideItem/SlideItem\";\n\nconst grid = 8;\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n  userSelect: 'none',\n  margin: `0 ${grid}px 0 0`,\n  height: '100%',\n\n  ...draggableStyle,\n});\n\nconst getListStyle = isDraggingOver => ({\n  background: isDraggingOver ? 'lightblue' : 'lightgrey',\n  display: 'flex',\n  padding: grid,\n  overflow: 'auto',\n  height: '30vh',\n});\n\nconst SlideList = ({slides, setSlidesOrder, deleteSlide, openSlide}) => {\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n  };\n\n  const onDragEnd = (result) => {\n    if (!result.destination) {\n      return;\n    }\n\n    const items = reorder(\n      slides,\n      result.source.index,\n      result.destination.index\n    );\n\n    setSlidesOrder(items);\n  }\n\n  return (\n    <DragDropContext onDragEnd={(result) => onDragEnd(result)}>\n      <Droppable droppableId=\"slides-list-wrapper\" direction=\"horizontal\">\n        {(provided, snapshot) => (\n          <div ref={provided.innerRef} style={getListStyle(snapshot.isDraggingOver)} {...provided.droppableProps} >\n            {slides.map((slide, index) => {\n              return (\n                <Draggable key={slide._id} draggableId={slide._id} index={index}>\n                  {(provided, snapshot) => (\n                    <div\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      style={getItemStyle(\n                        snapshot.isDragging,\n                        provided.draggableProps.style\n                      )}\n                    >\n                      <SlideItem slide={slide}\n                                 deleteSlide={() => deleteSlide(slide._id)}\n                                 openSlide={() => openSlide(slide._id)}/>\n                    </div>\n                  )}\n                </Draggable>\n              )\n            })}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  )\n}\n\nSlideList.propTypes = {\n  slides: PropTypes.array.isRequired,\n  setSlidesOrder: PropTypes.func.isRequired,\n  deleteSlide: PropTypes.func.isRequired,\n  openSlide: PropTypes.func.isRequired\n\n};\n\nexport default SlideList;","import React, {useCallback, useMemo, useState} from 'react';\nimport {useDropzone} from 'react-dropzone'\nimport PropTypes from \"prop-types\";\nimport api from \"../../utils/api\";\nimport {serverUrl} from '../../config.json';\n\n\nconst container = {\n  width: '100%'\n};\n\nconst thumbsContainer = {\n  display: 'flex',\n  flexDirection: 'column',\n  flexWrap: 'wrap',\n  paddingTop: 10\n};\nconst thumb = {\n  display: 'inline-flex',\n  borderRadius: 2,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 100,\n  height: 100,\n  padding: 4,\n  boxSizing: 'border-box'\n};\nconst thumbInner = {\n  display: 'flex',\n  minWidth: 0,\n  overflow: 'hidden'\n};\n\nconst img = {\n  display: 'block',\n  width: 'auto',\n  height: '100%'\n};\n\nconst baseStyle = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '20px',\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: '#eeeeee',\n  borderStyle: 'dashed',\n  backgroundColor: '#fafafa',\n  color: '#bdbdbd',\n  outline: 'none',\n  transition: 'border .24s ease-in-out',\n  cursor: 'pointer',\n};\n\nconst activeStyle = {\n  borderColor: '#2196f3'\n};\n\nconst acceptStyle = {\n  borderColor: '#00e676'\n};\n\nconst rejectStyle = {\n  borderColor: '#ff1744'\n};\n\n\nconst MyDropzone = ({filePicked, showPreview = true}) => {\n  const [files, setFiles] = useState([]);\n\n  const onDrop = useCallback(async acceptedFiles => {\n    let urls = [];\n    for (const file of acceptedFiles) {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const res = await api.post('/files/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      urls.push(`${serverUrl}/${res.data}`);\n    }\n    setFiles(urls);\n    filePicked(urls)\n  }, [filePicked])\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = useDropzone({accept: 'image/*', onDrop, maxFiles: 1});\n\n  const style = useMemo(() => ({\n    ...baseStyle,\n    ...(isDragActive ? activeStyle : {}),\n    ...(isDragAccept ? acceptStyle : {}),\n    ...(isDragReject ? rejectStyle : {})\n  }), [\n    isDragActive,\n    isDragReject,\n    isDragAccept\n  ]);\n\n  const thumbs = files.map(file => (\n    <div style={thumb} key={file}>\n      <div style={thumbInner}>\n        <img\n          src={file}\n          style={img}\n          alt={'Загружаемое изображение'}\n        />\n      </div>\n    </div>\n  ));\n\n  return (\n    <div className=\"container\" style={container}>\n      <div {...getRootProps({style})}>\n        <input {...getInputProps()} />\n        <p>Перетащите файл сюда, или нажмите чтобы выбрать файл...</p>\n      </div>\n      {files.length > 0 && showPreview && <aside style={thumbsContainer}>\n        <h3>Загружаемые файлы...</h3>\n        {thumbs}\n      </aside>}\n    </div>\n  );\n}\n\nMyDropzone.props = {\n  filePicked: PropTypes.func.isRequired,\n  showPreview: PropTypes.bool,\n}\n\nexport default MyDropzone;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport MyDropzone from \"../../../../ui/MyDropzone\";\nimport {serverUrl} from '../../../../../config.json';\n\nimport './AddSlide.scss';\n\nconst AddSlide = ({createSlide, category}) => {\n  const [tip, setTip] = useState();\n  const [file, setFile] = useState();\n  const [newHasAbacus, setNewHasAbacus] = useState(false);\n  const [newHasChessboard, setNewHasChessboard] = useState(false);\n\n  const filePicked = (files) => {\n    setFile(files[0])\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newHasAbacus || newHasChessboard) {\n      createSlide({tip, file: `${serverUrl}/slides/abacusBg.jpeg`, hasAbacus: newHasAbacus, hasChessboard: newHasChessboard})\n    } else {\n      createSlide({tip, file, hasAbacus: newHasAbacus, hasChessboard: newHasChessboard})\n    }\n  }\n\n  return (\n    <div className={'add-slide-wrapper'}>\n\n      <div className={'inputs-wrapper'}>\n        {\n          category.name === \"Ментальная арифметика\" && <div className=\"form-group field abacus\">\n            <label htmlFor=\"hasAbacus\">Абакус: </label>\n            <input type=\"checkbox\" placeholder=\"Абакус\" name=\"hasAbacus\" id='hasAbacus'\n                   checked={newHasAbacus}\n                   onChange={e => setNewHasAbacus(e.target.checked)}/>\n          </div>\n        }\n        {\n          category.name === \"Шахматы\" && <div className=\"form-group field abacus\">\n            <label htmlFor=\"hasAbacus\">Доска: </label>\n            <input type=\"checkbox\" placeholder=\"Доска\" name=\"setNewHasChessboard\" id='hasChessboard'\n                   checked={newHasChessboard}\n                   onChange={e => setNewHasChessboard(e.target.checked)}/>\n          </div>\n        }\n\n        <div className=\"form-group field\">\n          <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Подсказка для учителя\" name=\"tip\"\n                 id='tip'\n                 onChange={e => setTip(e.target.value)}/>\n          <label htmlFor=\"tip\" className=\"form-label\">Подсказка для учителя</label>\n        </div>\n\n        {!newHasAbacus && <MyDropzone filePicked={filePicked}/>}\n\n        <div className='submit-btn-wrapper'>\n          <button type={'submit'} className={'btn'} onClick={(e) => handleSubmit(e)}>\n            <span>Создать</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nAddSlide.propTypes = {\n  createSlide: PropTypes.func.isRequired,\n  category: PropTypes.object.isRequired,\n};\n\nexport default AddSlide;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport MyDropzone from \"../../../../ui/MyDropzone\";\n\nimport './SlideView.scss';\n\nconst SlideView = ({slide: {_id, tip, img}, editSlide, closeForm}) => {\n  const [newTip, setNewTip] = useState(tip);\n  const [newFile, setNewFile] = useState(img);\n\n  const filePicked = (files) => {\n    setNewFile(files[0])\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    editSlide({id: _id, tip: newTip, file: newFile, hasAbacus: false})\n    closeForm();\n  }\n  return (\n    <div className={'slide-editor add-slide-wrapper'}>\n\n      <div className={'inputs-wrapper'}>\n        <div className=\"form-group field\">\n          <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Подсказка для учителя\" name=\"tip\"\n                 id='tip'\n                 value={newTip}\n                 onChange={e => setNewTip(e.target.value)} required/>\n          <label htmlFor=\"tip\" className=\"form-label\">Подсказка для учителя</label>\n        </div>\n\n        <MyDropzone showPreview={false} filePicked={filePicked}/>\n\n        {newFile && <div className={'preview'}>\n          <div className={'preview-inner'}>\n            <img\n              src={newFile}\n              alt={'Загружаемое изображение'}\n            />\n          </div>\n        </div>}\n      </div>\n\n      <div className='submit-btn-wrapper'>\n        <button type='submit' className='btn' onClick={(e) => handleSubmit(e)}>\n          <span>Закончить редактирование</span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nSlideView.propTypes = {\n  slide: PropTypes.object.isRequired,\n  editSlide: PropTypes.func.isRequired,\n  closeForm: PropTypes.func.isRequired,\n};\n\nexport default SlideView;\n","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport SlideList from \"./slideList/SlideList\";\nimport AddSlide from \"./addSlide/AddSlide\";\nimport Modal from \"../../../ui/Modal\";\nimport SlideView from \"./slideView/SlideView\";\n\nimport './SlideEditor.scss'\nimport {v4 as uuidv4} from \"uuid\";\n\nconst SlidesEditor = ({slides, category, setSlides, setAlert}) => {\n  const [addingSlide, setAddingSlide] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [slideToEdit, setSlideToEdit] = useState({});\n\n  const closeModal = () => {\n    setModalOpen(false);\n  }\n\n  const openModal = (id) => {\n    setModalOpen(true);\n    const slide = slides.filter(i => i._id === id)[0];\n\n    if (!slide) return setAlert('Ошибка при открытии слайда', 'danger')\n\n    setSlideToEdit(slide)\n  }\n\n  const createSlide = async ({tip, file, hasAbacus, hasChessboard}) => {\n    setSlides([...slides, {tip, img: file, hasAbacus, hasChessboard, _id: uuidv4()}]);\n  }\n\n  const deleteSlide = async (id) => {\n    setSlides(slides.filter(slide => slide._id !== id));\n  }\n\n  const editSlide = async ({id, tip, file, hasAbacus}) => {\n\n    setSlides(slides.map(slide => {\n      if (slide._id === id) return {_id: id, tip, img: file, hasAbacus}\n      else return slide\n    }));\n  }\n\n  const setSlidesOrder = (slides) => {\n    setSlides(slides);\n  }\n\n  return (\n    <div className={'slides-wrapper'}>\n\n      <div className={'add-slide-btn'}\n              onClick={() => setAddingSlide(!addingSlide)}>{addingSlide ? 'Закрыть' : 'Добавить слайд'}</div>\n\n      {addingSlide && <AddSlide createSlide={(slide) => createSlide(slide)} category={category}/>}\n\n      {slides.length ?\n        <SlideList\n          slides={slides}\n          setSlidesOrder={setSlidesOrder}\n          openSlide={openModal}\n          deleteSlide={deleteSlide}\n        />\n        : ''}\n\n      <Modal\n        title={'Редактирование слайда'}\n        open={modalOpen}\n        closeModal={closeModal}\n        content={\n          modalOpen && <SlideView\n            slide={slideToEdit}\n            editSlide={editSlide}\n            closeForm={closeModal}\n          />\n        }\n      />\n\n    </div>\n  )\n}\n\nSlidesEditor.propTypes = {\n  slides: PropTypes.array.isRequired,\n  category: PropTypes.object.isRequired,\n  setSlides: PropTypes.func.isRequired,\n};\n\nexport default SlidesEditor;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport LessonTitleEditor from \"./lessonTitleEditor/LessonTitleEditor\";\nimport SlidesEditor from \"./slidesEditor/SlidesEditor\";\n\nimport './LessonView.scss';\nimport Selector from \"../../ui/Selector\";\n\n\nconst LessonView = ({lessonToEdit: {_id: id, slides, name: lessonTitle, category}, categories, setAlert, editLesson}) => {\n  const [newLessonTitle, setNewLessonTitle] = useState(lessonTitle);\n  const [newCategory, setNewCategory] = useState({});\n  const [newSlides, setNewSlides] = useState(slides);\n\n  const onCategoryChange = (value) => {\n      setNewCategory(categories.find(i => i._id === value))\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    editLesson(\n      {\n        id,\n        title: newLessonTitle,\n        slides: newSlides,\n        category: newCategory._id\n      }\n    )\n    setNewSlides([])\n  }\n\n  return (\n    <div className={'edit-lesson-form add-form'}>\n\n      <form id=\"form\" onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <LessonTitleEditor\n            newLessonTitle={newLessonTitle}\n            setNewLessonTitle={setNewLessonTitle}\n          />\n\n          <Selector items={categories}\n                    onChange={onCategoryChange}\n                    label={newCategory.name}\n                    defaultValue={category}\n                    valueField={'_id'}/>\n\n          <SlidesEditor slides={newSlides} setSlides={setNewSlides} setAlert={setAlert} category={newCategory}/>\n\n        </div>\n\n        <div className='submit-btn-wrapper'>\n          <button type=\"submit\" className='btn'>\n            <span>Закончить редактирование</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nLessonView.propTypes = {\n  lessonToEdit: PropTypes.object.isRequired,\n  categories: PropTypes.array.isRequired,\n  setAlert: PropTypes.func.isRequired,\n  editLesson: PropTypes.func.isRequired\n};\n\nexport default LessonView;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport Header from \"../ui/Header\";\n\nimport AddLesson from \"./addLesson/AddLesson\";\nimport LessonsList from \"./lessonsList/LessonsList\";\nimport LessonView from \"./lessonView/LessonView\";\n\nimport Modal from \"../ui/Modal\";\n\nimport api from \"../../utils/api\";\nimport Selector from \"../ui/Selector\";\n\nconst LessonsView = ({logout, setAlert}) => {\n  const [addLessonVisible, setAddLessonVisible] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [lessonToEdit, setLessonToEdit] = useState({});\n  const [lessons, setLessons] = useState([]);\n  const [visibleLessons, setVisibleLessons] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [category, setCategory] = useState({});\n\n  const closeModal = () => {\n    setModalOpen(false);\n  }\n\n  const openModal = (id) => {\n    setModalOpen(true);\n    const lesson = lessons.filter(i => i._id === id)[0];\n\n    if (!lesson) return setAlert('Ошибка при открытии урока', 'danger')\n\n    setLessonToEdit(lesson)\n  }\n\n  const onCategoryChange = (categoryId) => {\n    setCategory(categories.find(i => i._id === categoryId))\n  }\n\n  useEffect(() => {\n    setVisibleLessons(lessons.filter(i => i.category === category._id))\n  }, [lessons, category]);\n\n  useEffect(() => {\n    const getLessons = async () => {\n      const res = await api.post('/lessons/get-lessons');\n      setLessons(res.data.lessons);\n    }\n    getLessons().catch((err) => console.error(err))\n\n  }, []);\n\n  useEffect(() => {\n    const getCategories = async () => {\n      const res = await api.post('/categories/get-categories');\n      setCategories(res.data.categories);\n    }\n    getCategories().catch((err) => console.error(err))\n\n  }, []);\n\n  const createLesson = async ({lessonTitle, category}) => {\n    try {\n      const res = await api.post('/lessons', {name: lessonTitle, category});\n      const newLesson = res.data.lesson;\n      setLessons([...lessons, newLesson]);\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const deleteLesson = async (lessonId) => {\n    try {\n      await api.delete('/lessons', {\n        headers: {},\n        data: {\n          lessonId\n        },\n      });\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    setLessons(lessons.filter(lesson => lesson._id !== lessonId))\n  }\n\n  const editLesson = async (newLesson) => {\n    let createdLesson;\n    try {\n      const res = await api.put('/lessons', newLesson);\n      createdLesson = res.data.lesson;\n\n    } catch (e) {\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    closeModal()\n    setLessons(lessons.map((lesson) => {\n      if (lesson._id === newLesson.id) return createdLesson;\n      else return lesson;\n    }))\n  }\n\n\n  return (\n    <div>\n      <Header logout={logout}/>\n\n      <div className={'view-content'}>\n        <div className={'view-content-inner'}>\n\n          <Selector items={categories}\n                    onChange={onCategoryChange}\n                    label={category ? category[\"name\"] : null}\n                    valueField={'_id'}/>\n\n          <button className={'btn'}\n                  onClick={() => setAddLessonVisible(!addLessonVisible)}>{addLessonVisible ? 'Закрыть' : 'Добавить урок'}</button>\n\n          {addLessonVisible && <AddLesson createLesson={createLesson} category={category}/>}\n\n          <LessonsList lessons={visibleLessons} deleteLesson={deleteLesson} openLesson={openModal}/>\n\n          <Modal\n            title={`Редактирование урока: \\n ${lessonToEdit.name}`}\n            open={modalOpen}\n            closeModal={closeModal}\n            content={\n              modalOpen && <LessonView lessonToEdit={lessonToEdit} categories={categories} editLesson={editLesson} setAlert={setAlert}/>\n            }\n          />\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nLessonsView.propTypes = {\n  logout: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired,\n};\n\nexport default LessonsView;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nconst AddLevel = ({createLevel, category}) => {\n  const [levelTitle, setLevelTitle] = useState();\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    createLevel({levelTitle, category: category._id});\n  }\n\n  return (\n    <div className={'add-level-form add-form'}>\n      <form className='form' onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <div className=\"form-group field\">\n            <input autoComplete='off' type=\"input\" className=\"form-field\"\n                   placeholder=\"Название уровня\" name=\"levelName\" id='levelName'\n                   onChange={e => setLevelTitle(e.target.value)} required/>\n            <label htmlFor=\"levelName\" className=\"form-label\">Название уровня</label>\n          </div>\n\n          <div className='submit-btn-wrapper'>\n            <button type=\"submit\" className='btn' id='addLevel'>\n              <span>Создать</span>\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nAddLevel.propTypes = {\n  createLevel: PropTypes.func.isRequired,\n  category: PropTypes.object.isRequired,\n};\n\nexport default AddLevel;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaTimes, FaEdit} from 'react-icons/fa';\n\nconst LevelItem = ({level, deleteLevel, openLevel}) => {\n  return (\n    <div className={'level-wrapper item-wrapper'}>\n      <h4 className={'level-title'}>{level.name}</h4>\n      <div className={'btn-wrapper'}>\n        <div className={'delete-btn'} onClick={() => deleteLevel()}>\n          <FaTimes/>\n        </div>\n        <div className={'edit-btn'} onClick={() => openLevel()}>\n          <FaEdit/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nLevelItem.propTypes = {\n  level: PropTypes.object.isRequired,\n  deleteLevel: PropTypes.func.isRequired,\n  openLevel: PropTypes.func.isRequired,\n};\n\nexport default LevelItem;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport LevelItem from \"./levelItem/LevelItem\";\n\nconst LevelsList = ({levels, deleteLevel, openLevel}) => {\n  return (\n    <div className={'levels-list-wrapper'}>\n      {\n        levels.map(level => <LevelItem key={level._id} level={level}\n                                          deleteLevel={() => deleteLevel(level._id)}\n                                          openLevel={() => openLevel(level._id)}/>)\n      }\n    </div>\n  )\n}\n\nLevelsList.propTypes = {\n  levels: PropTypes.array.isRequired,\n  deleteLevel: PropTypes.func.isRequired,\n  openLevel: PropTypes.func.isRequired,\n};\n\nexport default LevelsList;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaEdit, FaTimes, FaCheck} from \"react-icons/fa\";\n\nimport './LevelTitleEditor.scss';\n\nconst LevelTitleEditor = ({newLevelTitle, setNewLevelTitle}) => {\n  const [editingTitle, setEditingTitle] = useState(false);\n  const [savedTitle, setSavedTitle] = useState(newLevelTitle);\n\n  return (\n    <div className={'title-wrapper'} id={'title-wrapper'}>\n      {editingTitle\n        ?\n        <div className={'editing-wrapper'}>\n          <div className={'close-btn'}\n               onClick={() => {\n                 setEditingTitle(false)\n                 setNewLevelTitle(savedTitle)\n               }}>\n            <FaTimes/>\n          </div>\n          <div className={'confirm-btn'}\n               onClick={() => {\n                 setEditingTitle(false)\n                 setSavedTitle(newLevelTitle)\n               }}>\n            <FaCheck/>\n          </div>\n        </div>\n        :\n        <div className={'non-editing-wrapper'}>\n          <div className={'title-label'}>Название уровня: </div>\n          <div className={'title-placeholder'}>\n            {newLevelTitle}\n          </div>\n          <div className={'edit-btn'} onClick={() => {\n            setEditingTitle(true)\n            setSavedTitle(newLevelTitle)\n          }}>\n            <FaEdit/>\n          </div>\n        </div>\n      }\n\n      {editingTitle && <div className=\"form-group field\">\n        <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Название уровня\" name=\"levelTitle\"\n               id='levelTitle'\n               value={newLevelTitle}\n               onChange={e => setNewLevelTitle(e.target.value)} required/>\n        <label htmlFor=\"levelTitle\" className=\"form-label\">Название уровня</label>\n      </div>}\n    </div>\n  )\n\n}\n\nLevelTitleEditor.propTypes = {\n  newLevelTitle: PropTypes.string.isRequired,\n  setNewLevelTitle: PropTypes.func.isRequired,\n};\n\nexport default LevelTitleEditor;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {FaTimes} from \"react-icons/fa\";\n\nconst LevelsLessonItem = ({lesson, deleteLesson}) => {\n  return (\n    <div className={'level-lesson-item inline-item'}>\n      <div className={'label'}>{lesson.name}</div>\n\n      <div className={'delete-btn'} onClick={deleteLesson}>\n        <FaTimes/>\n      </div>\n\n    </div>\n  )\n}\n\n\nLevelsLessonItem.propTypes = {\n  lesson: PropTypes.object.isRequired,\n  deleteLesson: PropTypes.func.isRequired,\n};\n\nexport default LevelsLessonItem;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Selector from \"../../../ui/Selector\";\n\nconst LessonsSelector = ({lessons, setSelectedLesson}) => {\n\n  const formattedLevels = lessons.map(lesson => {\n\n    return Object.assign(lesson, {\n      html: (\n        <div className={'lesson-item'}>\n          {lesson.name}\n        </div>\n      )\n    })\n  })\n\n  const onChange = (id) => {\n    setSelectedLesson(lessons.find(i => i._id === id))\n  }\n\n  return (\n    <div>\n      <Selector items={formattedLevels} onChange={onChange} label={'Выберите уроки...'}\n                valueField={'_id'}/>\n    </div>\n  )\n}\n\n\nLessonsSelector.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  setSelectedLesson: PropTypes.func.isRequired,\n};\n\nexport default LessonsSelector;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport api from \"../../../../utils/api\";\nimport LevelsLessonItem from \"./levelsLessonItem/LevelsLessonItem\";\nimport LessonsSelector from \"../LessonsSelector/LessonsSelector\";\n\n\nconst LevelsLessonsList = ({lessons = [], setLessons, category}) => {\n  const [allLessons, setAllLessons] = useState([]);\n  const [lessonsIds, setLessonsIds] = useState([]);\n\n  useEffect(() => {\n    const getLessons = async () => {\n      // const newLessons = res.filter(lesson => !lessonsIds.includes(lesson._id))\n      const res = await api.post('/lessons/get-lessons', {namesOnly: true, category})\n\n      setAllLessons(res.data.lessons);\n    }\n    getLessons().catch((err) => console.error(err))\n\n  }, [category]);\n\n  useEffect(() => {\n    const getLessons = async () => {\n      // const newLessons = res.filter(lesson => !lessonsIds.includes(lesson._id))\n      const res = await api.post('/lessons/get-lessons', {namesOnly: true, category})\n\n      setAllLessons(res.data.lessons);\n    }\n    getLessons().catch((err) => console.error(err))\n\n  }, [lessonsIds]);\n\n  useEffect(() => {\n    setLessonsIds(lessons.map(lesson => lesson._id))\n  }, [lessons])\n\n  const setSelectedLessons = (lesson) => {\n    setLessons([...lessons, lesson])\n  }\n\n  const deleteLesson = (id) => {\n    setLessons(lessons.filter(lesson => lesson._id !== id));\n  }\n\n\n  return (\n    <div className={'levels-lessons-wrapper inline-list'}>\n      <div className={'list-wrapper'}>\n        <div className={'group-title'}>Уроки:</div>\n        {\n          lessons.map(lesson => <LevelsLessonItem key={lesson._id}\n                                                  lesson={lesson}\n                                                  deleteLesson={() => deleteLesson(lesson._id)}/>)\n        }\n      </div>\n      <LessonsSelector lessons={allLessons.filter(lesson => !lessonsIds.includes(lesson._id))}\n                       setSelectedLesson={setSelectedLessons}/>\n    </div>\n  )\n}\n\nLevelsLessonsList.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  category: PropTypes.object.isRequired,\n};\n\nexport default LevelsLessonsList;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport LevelTitleEditor from \"./levelTitleEditor/LevelTitleEditor\";\nimport LevelsLessonsList from \"./levelsLessonsList/LevelsLessonsList\";\n\nimport './LevelView.scss';\n\nconst LevelView = ({editLevel, levelToEdit: {_id: id, name: oldLeveTitle, lessons: oldLessons}, category}) => {\n  const [levelTitle, setLevelTitle] = useState(oldLeveTitle);\n  const [lessons, setLessons] = useState(oldLessons);\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    editLevel(\n      {\n        id,\n        name: levelTitle,\n        lessons: lessons,\n        category\n      }\n    )\n  }\n\n\n  return (\n    <div className={'edit-level-form add-form'}>\n      <form className='form' onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <LevelTitleEditor\n            newLevelTitle={levelTitle}\n            setNewLevelTitle={setLevelTitle}\n          />\n\n          <LevelsLessonsList lessons={lessons} category={category} setLessons={setLessons}/>\n\n        </div>\n\n        <div className='submit-btn-wrapper'>\n          <button type=\"submit\" className='btn'>\n            <span>Закончить редактирование</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nLevelView.propTypes = {\n  levelToEdit: PropTypes.object.isRequired,\n  setAlert: PropTypes.func.isRequired,\n  editLevel: PropTypes.func.isRequired,\n  category: PropTypes.object.isRequired,\n};\n\nexport default LevelView;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport Header from \"../ui/Header\";\n\nimport AddLevel from \"./addLevel/AddLevel\";\nimport LevelsList from \"./levelsList/LevelsList\";\nimport LevelView from \"./levelView/LevelView\";\n\nimport Modal from \"../ui/Modal\";\n\nimport api from \"../../utils/api\";\nimport Selector from \"../ui/Selector\";\n\nconst LevelsView = ({logout, setAlert}) => {\n  const [addLevelVisible, setAddLevelVisible] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [levelToEdit, setLevelToEdit] = useState({});\n  const [levels, setLevels] = useState([]);\n  const [visibleLevels, setVisibleLevels] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [category, setCategory] = useState({});\n\n  const onCategoryChange = (categoryId) => {\n    setCategory(categories.find(i => i._id === categoryId))\n  }\n\n  const closeModal = () => {\n    setModalOpen(false);\n  }\n\n  const openModal = (id) => {\n    setModalOpen(true);\n    const level = levels.filter(i => i._id === id)[0];\n\n    if (!level) return setAlert('Ошибка при открытии уровня', 'danger')\n\n    setLevelToEdit(level)\n  }\n\n  useEffect(() => {\n    setVisibleLevels(levels.filter(i => i.category === category._id))\n  }, [levels, category]);\n\n  useEffect(() => {\n    const getLevels = async () => {\n      const res = await api.post('/levels/get-levels');\n      setLevels(res.data.levels);\n    }\n    getLevels().catch((err) => console.error(err))\n\n  }, []);\n\n  useEffect(() => {\n    const getCategories = async () => {\n      const res = await api.post('/categories/get-categories');\n      setCategories(res.data.categories);\n    }\n    getCategories().catch((err) => console.error(err))\n\n  }, []);\n\n  const createLevel = async ({levelTitle, category}) => {\n    try {\n      const res = await api.post('/levels', {name: levelTitle, category});\n      const newLevel = res.data.level;\n      setLevels([...levels, newLevel])\n    } catch (e) {\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const deleteLevel = async (levelId) => {\n    try {\n      await api.delete('/levels', {\n        headers: {},\n        data: {\n          levelId\n        },\n      });\n      setLevels(levels.filter(level => level._id !== levelId))\n    } catch (e) {\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const editLevel = async ({id, name, lessons, category}) => {\n    const newLessons = lessons.map(lesson => lesson._id)\n    let createdLevel;\n    try {\n      const res = await api.put('/levels', {id, name, lessons: newLessons, category});\n      createdLevel = res.data.level;\n    } catch (e) {\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    closeModal()\n    setLevels(levels.map((level) => {\n      if (level._id === id) return createdLevel;\n      else return level;\n    }))\n  }\n\n  return (\n    <div>\n      <Header logout={logout}/>\n\n      <div className={'view-content'}>\n        <div className={'view-content-inner'}>\n\n          <Selector items={categories}\n                    onChange={onCategoryChange}\n                    label={category ? category[\"name\"] : null}\n                    valueField={'_id'}/>\n\n          <button className={'btn'}\n                  onClick={() => setAddLevelVisible(!addLevelVisible)}>{addLevelVisible ? 'Закрыть' : 'Добавить уровень'}</button>\n          {addLevelVisible && <AddLevel createLevel={createLevel} category={category}/>}\n\n          <LevelsList levels={visibleLevels} deleteLevel={deleteLevel} openLevel={openModal}/>\n\n          <Modal\n            title={`Редактирование уровня: \\n ${levelToEdit.name}`}\n            open={modalOpen}\n            closeModal={closeModal}\n            content={\n              modalOpen &&\n              <LevelView levelToEdit={levelToEdit} category={category} editLevel={editLevel} setAlert={setAlert}/>\n            }\n          />\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nLevelsView.propTypes = {\n  logout: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired,\n};\n\nexport default LevelsView;","import React from 'react';\nimport './Spinner.scss'\n\n\nconst Spinner = () => {\n  return (\n    <div className=\"holder\">\n      <svg className=\"loader\" viewBox=\"0 0 24 24\">\n        <circle className=\"loader__value\" cx=\"12\" cy=\"12\" r=\"10\"/>\n        <circle className=\"loader__value\" cx=\"12\" cy=\"12\" r=\"10\"/>\n        <circle className=\"loader__value\" cx=\"12\" cy=\"12\" r=\"10\"/>\n        <circle className=\"loader__value\" cx=\"12\" cy=\"12\" r=\"10\"/>\n        <circle className=\"loader__value\" cx=\"12\" cy=\"12\" r=\"10\"/>\n        <circle className=\"loader__value\" cx=\"12\" cy=\"12\" r=\"10\"/>\n      </svg>\n    </div>\n  )\n}\n\nexport default Spinner;","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Spinner from \"./Spinner\";\n\nconst PrivateRoute = ({component: Component, auth: {isAuthenticated, loading}, ...rest}) => {\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        loading ? (\n          <Spinner/>\n        ) : isAuthenticated ? (\n          <Component {...props} {...rest} />\n        ) : (\n          <Redirect to=\"/login\"/>\n        )\n      }\n    />\n  );\n}\n\nPrivateRoute.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nexport default PrivateRoute;\n","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nconst AddCategory = ({createCategory}) => {\n  const [categoryTitle, setCategoryTitle] = useState();\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    createCategory({categoryTitle});\n  }\n\n  return (\n    <div className={'add-lesson-form add-form'}>\n      <form className='form' onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <div className=\"form-group field\">\n            <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Название категории\" name=\"category\" id='category'\n                   onChange={e => setCategoryTitle(e.target.value)} required/>\n            <label htmlFor=\"category\" className=\"form-label\">Название категории</label>\n          </div>\n\n          <div className='submit-btn-wrapper'>\n            <button type=\"submit\" className='btn' id='addLesson'>\n              <span>Создать</span>\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nAddCategory.propTypes = {\n  createCategory: PropTypes.func.isRequired,\n};\n\nexport default AddCategory;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaTimes, FaEdit} from 'react-icons/fa';\n\nconst CategoryItem = ({category, deleteCategory, openCategory}) => {\n  return (\n    <div className={'category-wrapper item-wrapper'}>\n      <h4 className={'category-title'}>{category.name}</h4>\n      <div className={'btn-wrapper'}>\n        <div className={'delete-btn'} onClick={() => deleteCategory()}>\n          <FaTimes/>\n        </div>\n        <div className={'edit-btn'} onClick={() => openCategory()}>\n          <FaEdit/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nCategoryItem.propTypes = {\n  category: PropTypes.object.isRequired,\n  deleteCategory: PropTypes.func.isRequired,\n  openCategory: PropTypes.func.isRequired,\n};\n\nexport default CategoryItem;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport CategoryItem from \"./categoryItem/CategoryItem\";\n\nconst CategoriesList = ({categories, deleteCategory, openCategory}) => {\n  return (\n    <div className={'categories-list-wrapper'}>\n      {\n        categories.map(category => <CategoryItem key={category._id} category={category}\n                                          deleteCategory={() => deleteCategory(category._id)}\n                                          openCategory={() => openCategory(category._id)}/>)\n      }\n    </div>\n  )\n}\n\nCategoriesList.propTypes = {\n  categories: PropTypes.array.isRequired,\n  deleteCategory: PropTypes.func.isRequired,\n  openCategory: PropTypes.func.isRequired,\n};\n\nexport default CategoriesList;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport {FaEdit, FaTimes, FaCheck} from \"react-icons/fa\";\n\nimport \"./CategoryNameEditor.scss\"\n\nconst CategoryNameEditor = ({newCategoryName, setNewCategoryName}) => {\n  const [editingName, setEditingName] = useState(false);\n  const [savedName, setSavedName] = useState(newCategoryName);\n\n  return (\n    <div className={'title-wrapper'} id={'category-wrapper'}>\n      {editingName\n        ?\n        <div className={'editing-wrapper'}>\n          <div className={'close-btn'}\n               onClick={() => {\n                 setEditingName(false)\n                 setNewCategoryName(savedName)\n               }}>\n            <FaTimes/>\n          </div>\n          <div className={'confirm-btn'}\n               onClick={() => {\n                 setEditingName(false)\n                 setSavedName(newCategoryName)\n               }}>\n            <FaCheck/>\n          </div>\n        </div>\n        :\n        <div className={'non-editing-wrapper'}>\n          <div className={'title-label'}>Название категории: </div>\n          <div className={'title-placeholder'}>\n            {newCategoryName}\n          </div>\n          <div className={'edit-btn'} onClick={() => {\n            setEditingName(true)\n            setSavedName(newCategoryName)\n          }}>\n            <FaEdit/>\n          </div>\n        </div>\n      }\n\n      {editingName && <div className=\"form-group field\">\n        <input autoComplete='off' type=\"input\" className=\"form-field\" placeholder=\"Название категории\"\n               name=\"categoryName\"\n               id='levelName'\n               value={newCategoryName}\n               onChange={e => setNewCategoryName(e.target.value)} required/>\n        <label htmlFor=\"levelName\" className=\"form-label\">Название категории</label>\n      </div>}\n    </div>\n  )\n\n}\n\nCategoryNameEditor.propTypes = {\n  newCategoryName: PropTypes.string.isRequired,\n  setNewCategoryName: PropTypes.func.isRequired,\n};\n\nexport default CategoryNameEditor;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {FaTimes} from \"react-icons/fa\";\n\nconst CategoriesTeacherItem = ({teacher, deleteTeacher}) => {\n  return (\n    <div className={'category-teacher-item inline-item'}>\n      <div className={'label'}>{teacher.name}</div>\n\n      <div className={'delete-btn'} onClick={deleteTeacher}>\n        <FaTimes/>\n      </div>\n\n    </div>\n  )\n}\n\n\nCategoriesTeacherItem.propTypes = {\n  teacher: PropTypes.object.isRequired,\n  deleteTeacher: PropTypes.func.isRequired,\n};\n\nexport default CategoriesTeacherItem;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Selector from \"../../../ui/Selector\";\n\nconst TeachersSelector = ({teachers, setSelectedTeacher}) => {\n\n  const formattedTeachers = teachers.map(teacher => {\n\n    return Object.assign(teacher, {\n      html: (\n        <div className={'teacher-item'}>\n          {teacher.name}\n        </div>\n      )\n    })\n  })\n\n  const onChange = (id) => {\n    setSelectedTeacher(formattedTeachers.find(i => i._id === id))\n  }\n\n  return (\n    <div>\n      <Selector items={formattedTeachers} onChange={onChange} label={'Выберите учителей...'}\n                valueField={'_id'}/>\n    </div>\n  )\n}\n\n\nTeachersSelector.propTypes = {\n  teachers: PropTypes.array.isRequired,\n  setSelectedTeacher: PropTypes.func.isRequired,\n};\n\nexport default TeachersSelector;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\nimport api from \"../../../../utils/api\";\nimport CategoriesTeacherItem from \"./categoriesTeacherItem/CategoriesTeacherItem\";\nimport TeachersSelector from \"../teachersSelector/TeachersSelector\";\n\nconst CategoriesTeachersList = ({teachers = [], setTeachers}) => {\n  const [allTeachers, setAllTeachers] = useState([]);\n  const [teachersIds, setTeachersIds] = useState([]);\n\n  useEffect(() => {\n    const getTeachers = async () => {\n      const res = await api.post('/teachers/get-teachers')\n\n      setAllTeachers(res.data.teachers);\n    }\n    getTeachers().catch((err) => console.error(err))\n\n  }, [teachersIds]);\n\n  useEffect(() => {\n    setTeachersIds(teachers.map(lesson => lesson._id))\n  }, [teachers])\n\n  const setSelectedTeachers = (lesson) => {\n    setTeachers([...teachers, lesson])\n  }\n\n  const deleteTeacher = (id) => {\n    setTeachers(teachers.filter(teacher => teacher._id !== id));\n  }\n\n  return (\n    <div className={'categories-teachers-wrapper inline-list'}>\n      <div className={'list-wrapper'}>\n        <div className={'group-title'}>Учителя:</div>\n        {\n          teachers.map(teacher => <CategoriesTeacherItem key={teacher._id}\n                                                         teacher={teacher}\n                                                         deleteTeacher={() => deleteTeacher(teacher._id)}/>)\n        }\n      </div>\n      <TeachersSelector teachers={allTeachers.filter(lesson => !teachersIds.includes(lesson._id))}\n                        setSelectedTeacher={setSelectedTeachers}/>\n    </div>\n  )\n}\n\nCategoriesTeachersList.propTypes = {\n  teachers: PropTypes.array.isRequired,\n  setTeachers: PropTypes.func.isRequired,\n};\n\nexport default CategoriesTeachersList;","import React, {useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport CategoryNameEditor from \"./categoryNameEditor/CategoryNameEditor\";\nimport CategoriesTeachersList from \"./categoriesTeachersList/CategoriesTeachersList\";\n\nconst CategoryView = ({editCategory, categoryToEdit: {_id: id, name: oldCategoryName, teachers: oldTeachers}}) => {\n  const [categoryName, setCategoryName] = useState(oldCategoryName);\n  const [teachers, setTeachers] = useState(oldTeachers);\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    editCategory(\n      {\n        id,\n        name: categoryName,\n        teachers: teachers.map((teacher) => teacher._id),\n      }\n    )\n  }\n\n  return (\n    <div className={'edit-category-form add-form'}>\n      <form className='form' onSubmit={(e) => handleSubmit(e)}>\n        <div className={'inputs-wrapper'}>\n          <CategoryNameEditor\n            newCategoryName={categoryName}\n            setNewCategoryName={setCategoryName}\n          />\n\n          <CategoriesTeachersList teachers={teachers} setTeachers={setTeachers}/>\n\n        </div>\n\n        <div className='submit-btn-wrapper'>\n          <button type=\"submit\" className='btn'>\n            <span>Закончить редактирование</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nCategoryView.propTypes = {\n  categoryToEdit: PropTypes.object.isRequired,\n  editCategory: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired,\n};\n\nexport default CategoryView;","import React, {useEffect, useState} from 'react';\nimport PropTypes from \"prop-types\";\n\nimport Header from \"../ui/Header\";\nimport Modal from \"../ui/Modal\";\n\nimport AddCategory from \"./addCategory/AddCategory\";\nimport CategoriesList from \"./categoriesList/CategoriesList\";\nimport CategoryView from \"./categoryView/CategoryView\";\n\nimport api from \"../../utils/api\";\n\nconst CategoriesView = ({logout, setAlert}) => {\n  const [addCategoryVisible, setAddCategoryVisible] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [categoryToEdit, setCategoryToEdit] = useState({});\n  const [categories, setCategories] = useState([]);\n\n  const closeModal = () => {\n    setModalOpen(false);\n  }\n\n  const openModal = (id) => {\n    setModalOpen(true);\n    const category = categories.filter(i => i._id === id)[0];\n\n    if (!category) return setAlert('Ошибка при открытии категории', 'danger')\n\n    setCategoryToEdit(category)\n  }\n\n  useEffect(() => {\n    const getCategories = async () => {\n      const res = await api.post('/categories/get-categories');\n      setCategories(res.data.categories);\n    }\n    getCategories().catch((err) => console.error(err))\n\n  }, []);\n\n  const createCategory = async ({categoryTitle}) => {\n    try {\n      const res = await api.post('/categories', {name: categoryTitle});\n      const newCategory = res.data.lesson;\n      setCategories([...categories, newCategory]);\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n  }\n\n  const deleteCategory = async (categoryId) => {\n    try {\n      await api.delete('/categories', {\n        headers: {},\n        data: {categoryId},\n      });\n    } catch (e) {\n      console.log(e)\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    setCategories(categories.filter(category => category._id !== categoryId))\n  }\n\n  const editCategory = async (newCategory) => {\n    let createdCategory;\n    try {\n      const res = await api.put('/categories', newCategory);\n      createdCategory = res.data.category;\n\n    } catch (e) {\n      e.response.data.errors.forEach(err => {\n        setAlert(err.msg, 'danger')\n      })\n    }\n    closeModal()\n    setCategories(categories.map((category) => {\n      if (category._id === newCategory.id) return createdCategory;\n      else return category;\n    }))\n  }\n\n  return (\n    <div>\n      <Header logout={logout}/>\n      <div className={'view-content'}>\n        <div className={'view-content-inner'}>\n          <button className={'btn'}\n                  onClick={() => setAddCategoryVisible(!addCategoryVisible)}>{addCategoryVisible ? 'Закрыть' : 'Добавить категорию'}\n          </button>\n\n          {addCategoryVisible && <AddCategory createCategory={createCategory} />}\n\n          <CategoriesList categories={categories} deleteCategory={deleteCategory} openCategory={openModal}/>\n\n          <Modal\n            title={`Редактирование урока: \\n ${categoryToEdit.name}`}\n            open={modalOpen}\n            closeModal={closeModal}\n            content={\n              modalOpen && <CategoryView categoryToEdit={categoryToEdit} editCategory={editCategory} setAlert={setAlert}/>\n            }\n          />\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nCategoriesView.propTypes = {\n  logout: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired\n};\n\nexport default CategoriesView;","import React, {useState} from 'react';\nimport {BrowserRouter as Router, Redirect, Route, Switch} from 'react-router-dom';\n\nimport useUser from \"./utils/useUser\";\n\nimport Alert from \"./components/ui/Alert\";\n\nimport Login from \"./components/login/Login\";\nimport StudentsView from \"./components/studentsView/StudentsView\";\nimport TeachersView from \"./components/teachersView/TeachersView\";\nimport LessonsView from \"./components/lessonsView/LessonsView\";\nimport LevelsView from \"./components/levelsView/LevelsView\";\n\nimport PrivateRoute from \"./components/ui/PrivateRoute\";\nimport {v4 as uuidv4} from 'uuid';\n\nimport './Common.scss';\nimport CategoriesView from \"./components/categories/CategoriesView\";\n\nconst App = () => {\n  const {user, setUser, unsetUser} = useUser()\n  const [auth, setAuth] = useState({isAuthenticated: Boolean(user && user.token), isLoading: false});\n  const [alerts, setAlerts] = useState([]);\n\n  const setAlert = (msg, alertType, timeout = 5000) => {\n    const id = uuidv4();\n    setAlerts([...alerts, {msg, alertType, id}])\n\n    setTimeout(() => removeAlert(id), timeout);\n  };\n\n  const removeAlert = (id) => {\n    setAlerts(alerts => alerts.filter((alert) => alert.id !== id));\n  }\n\n  const logout = () => {\n    unsetUser();\n    setAuth({isAuthenticated: false, isLoading: false});\n  };\n\n  return (\n    <section className=\"container\">\n      <Alert alerts={alerts}/>\n      <Router>\n        <Switch>\n          {/* Sign In Page */}\n          <Route exact path=\"/login\"\n                 render={(props) =>\n                   <Login {...props} setAuth={setAuth} setAlert={setAlert} setUser={setUser} auth={auth}/>\n                 }/>\n\n          <PrivateRoute exact path=\"/teachers-view\"\n                        setAlert={setAlert}\n                        component={TeachersView}\n                        auth={auth}\n                        user={user}\n                        logout={logout}/>\n\n          <PrivateRoute exact path=\"/students-view\"\n                        setAlert={setAlert}\n                        component={StudentsView}\n                        auth={auth}\n                        user={user}\n                        logout={logout}/>\n\n          <PrivateRoute exact path=\"/lessons-view\"\n                        setAlert={setAlert}\n                        component={LessonsView}\n                        auth={auth}\n                        user={user}\n                        logout={logout}/>\n\n          <PrivateRoute exact path=\"/levels-view\"\n                        setAlert={setAlert}\n                        component={LevelsView}\n                        auth={auth}\n                        user={user}\n                        logout={logout}/>\n\n          <PrivateRoute exact path=\"/categories-view\"\n                        setAlert={setAlert}\n                        component={CategoriesView}\n                        auth={auth}\n                        user={user}\n                        logout={logout}/>\n\n          {/* 404 Page */}\n          <Route path=\"*\" render={\n            () => {\n              if (auth.isAuthenticated) {\n                return <Redirect to=\"/lessons-view\"/>\n              } else {\n                return <Redirect to=\"/login\"/>\n              }\n            }\n          }/>\n        </Switch>\n      </Router>\n    </section>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}